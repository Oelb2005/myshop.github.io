<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>    إضافة منتج جديد
 | My Shop</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=0" />
<meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description" />
<meta content="Coderthemes" name="author" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />

<meta name="csrf-token" content="hRIZpFLu8UJ0iI4JCBwv765Q7thLZOdZqRieuVbk">

<link rel="shortcut icon" href="https://cdn.mapp.sa/cPanel/images/favicon.ico">

<link href="https://cdn.mapp.sa/cPanel/libs/flatpickr/flatpickr.min.css" rel="stylesheet" type="text/css" />

<link href="https://cdn.mapp.sa/cPanel/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/css/fontawesome5.min.css">
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/css/all.min.css">
<link href="https://cdn.mapp.sa/cPanel/css/icons.min.css" rel="stylesheet" type="text/css" />
<link href="https://cdn.mapp.sa/cPanel/libs/sweetalert2/sweetalert2.min.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/libs/switchery/switchy.min.css">
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/libs/pretty-checkboxs/pretty-checkbox.min.css">
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/css/uicons-regular-rounded.css">
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/css/app-rtl.css?version=1680776865">
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/css/loader.css">
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/css/validationMessages.css">
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/css/sweetalert.css">
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/css/adminLayout.css?version=1680776865">
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/css/custom-app-rtl.css?version=1680776865">
<style>

    

.me-custom-modal .modal-header {
  background: linear-gradient(to bottom, #00ff80, #00ff85);
  border-color: #00ff85;
}


.swal-button.swal-button--confirm.btn-success {
    color: #fff!important;
    direction: rtl!important;
    background: linear-gradient(to left,rgba(0, 255, 128, 0.95) 0%,rgba(0, 255, 133, 0.95) 90%);
    border-color: #00ff80!important;
    height: 40px;
}

#sidebar-menu .metismenu .nav-second-level {
    background: linear-gradient(180deg, #02e473 36%, #079b51 100%);
    border-radius: 24px;
    margin-top: 10px;
    padding: 0;
}

#sidebar-menu>ul>li:not(.withDropdown)>a:hover, #sidebar-menu>ul>li:not(.withDropdown).active>a {
    background: #02a757;
    border-radius: 24px;
}

.left-side-menu {
    width: 250px;
    background: linear-gradient(180deg, #02e473 36%, #079b51 100%);
    padding-top: 15px;
}


.swal-button.swal-button--confirm.btn-success {
    color: #fff!important;
    direction: rtl!important;
    background: linear-gradient(to left, #00ff80 0%, #00ff85 90%)!important;
    border-color: #00ff80!important;
    height: 40px;
}

.swal-button.swal-button--confirm {
    background: linear-gradient(to left, #00ff80 0%, #00ff85 90%);
    border-color: #00ff80;
    outline: none;
    box-shadow: none;
}

.swal-button.btn-success {
    min-width: 150px;
    background: linear-gradient(to left, #00ff80 0%, #00ff85 90%);
    border-color: #00ff80!important;
    margin-left: 15px;
}




#sidebar-menu>ul>li:not(.withDropdown)>a:hover, #sidebar-menu>ul>li:not(.withDropdown).active>a {
    background: #02a757;
    border-radius: 24px;
}

.left-side-menu {
    width: 250px;
    background: linear-gradient(180deg, #02e473 36%, #079b51 100%);
    padding-top: 15px;
}


.checkbox-primary input[type=checkbox]:checked+label::before {
    background-color: #00ff80;
    border-color: #00ff80;
}

.switchy input:checked~span {
    border-color: #00ff80;
    background: #00ff85!important;
}

.bg-purple {
    background-color: #00ff80;
    background: linear-gradient(to left,rgba(0,255,128,0.95) 0%,rgba(0,255,133,0.95) 90%);
    border-color: #00ff80;
    color: #fff!important;
    box-shadow: 0 2px 10px 0 rgba(0,0,0,.16), 0 2px 5px 0 rgba(0,0,0,.26);
}

.btn-primary {
    background: linear-gradient(to left, #00ff80 0%, #00ff85 90%);
    color: #fff!important;
    background-color: #393ba7!important;
    border: none!important;
    box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.16), 0px 2px 5px rgba(0, 0, 0, 0.26);
    transition: all 0.3s;
}

.btn-primary:hover {
    box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.2), 0px 7px 15px rgba(0, 0, 0, 0.3);
}

.multi-action .action-button {
    position: absolute;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    border: none;
    outline: none;
    background: linear-gradient(to left, #00ff80, #00ff85);
    font-size: 24px;
    color: #fff;
    z-index: 2;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 10px 0 rgba(0, 0, 0, .16), 0 2px 5px 0 rgba(0, 0, 0, .26);
    transition: all .3s;
}

.multi-action .action-button:hover {
    background: linear-gradient(to left, #00ff85, #00ff80);
    box-shadow: 0px 5px 20px rgba(0, 0, 0, 0.3);
}

.multi-action .actions {
    position: absolute;
    list-style: none inside none;
    margin: 0;
    padding: 0;
    width: auto;
    float: left;
    background-color: transparent;
    top: 8px;
    left: 8px;
    z-index: 1;
}

.multi-action .actions li {
    position: absolute;
    display: block;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: linear-gradient(to left, #00ff80, #00ff85);
    box-shadow: 0 2px 10px 0 rgba(0, 0, 0, .16), 0 2px 5px 0 rgba(0, 0, 0, .26);
    margin: 0;
    color: #fff;
    transition: all .3s;
    transform: scale(.3);
}

.multi-action .actions li:hover {
    background: linear-gradient(to left, #00ff85, #00ff80);
    box-shadow: 0px 5px 20px rgba(0, 0, 0, 0.3);
    transform: scale(1);
}

    

        label.error {
            color: red;
            font-size: 10px;
        }

        .table-responsive table thead {
            border-right: 1px solid #dee2e6;
            border-left: 1px solid #dee2e6;
        }


        .padiOverlayCustom .modal-header {
            border-bottom: 0;
        }

        .padiOverlayCustom .modal-body img {
            max-width: 100%;
            display: block;
            margin: 0 auto;
        }

        .padiOverlayCustom .modal-title .mataj img {
            width: 40px;
        }

        @media (min-width: 576px) {
            .padiOverlayCustom .modal-dialog {
                max-width: 600px;
            }
        }

        .padiOverlay {
            position: fixed;
            left: 0px;
            top: 0px;
            padding: 0px;
            margin: 0px;
            visibility: visible;
            overflow-x: hidden;
            overflow-y: auto;
            width: 100%;
            height: 100%;
            z-index: 9999;
        }

        .padiFade {
            zoom: 1;
            background-color: rgba(0, 0, 0, 0.6);
            width: 100%;
            height: 100%;
            z-index: 1041;
        }

        .padiPop4Overlay h1, .padiPop4Overlay h2, .padiPop4Overlay h3, .padiPop4Overlay div, .padiPop4Overlay ul, .padiPop4Overlay li, .padiPop4Overlay ol, .padiPop4Overlay p, .padiPop4Overlay a, .padiPop4Overlay input, .padiPop4Overlay input[type=text], .padiPop4Overlay input[type=email] {
            margin: 0;
            padding: 0;
            border: 0;
            outline: none;
            font-size: 100%;
            vertical-align: middle;
            float: none;
            width: auto;
            height: auto;
            background-image: none;
            -webkit-box-shadow: none;
            -moz-box-shadow: none;
            box-shadow: none;
            /*
                        list-style: none;
            */
            -webkit-text-shadow: none !important;
            -moz-text-shadow: none !important;
            text-shadow: none !important;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            -ms-box-sizing: border-box;
            box-sizing: border-box;
        }

        .padiPop4Overlay *, .padiPop4Overlay *:before, .padiPop4Overlay *:after {
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            -ms-box-sizing: border-box;
            box-sizing: border-box;
        }

        .padiPop4Wrap {
            position: absolute;
            visibility: visible;
            z-index: 1602;
            padding: 0px;
            left: 50%;
            margin-left: -300px;
            top: 50%;
            margin-top: -200px;
            max-height: 400px;
            width: 600px;
            background-color: white;
            background-repeat: no-repeat;
            background-position: center top;
            border-radius: 7px;

        }

        .padiPop4Overlay .padiContent::-webkit-scrollbar {
            width: 8px;
            height: 5px;
        }

        .padiPop4Overlay .padiContent::-webkit-scrollbar-track {
            background: #ffffff;
        }

        .padiPop4Overlay .padiContent::-webkit-scrollbar-thumb {
            background: #333;
        }

        .padiPop4Overlay .padiContent::-webkit-scrollbar-thumb:hover {
            background: #333;
        }


        .padiPop4Overlay {
            background-color: transparent;
            background-image: none;
            background-repeat: no-repeat;
            padding: 0px;
            -moz-border-radius: 0;
            -webkit-border-radius: 0;
            border-radius: 0;
            box-shadow: 0 0 0px rgba(0, 0, 0, 0.8);
            -webkit-box-shadow: 0 0 0px rgba(0, 0, 0, 0.8);
            -moz-box-shadow: 0 0 0px rgba(0, 0, 0, 0.8);
            -moz-background-clip: padding;
            -webkit-background-clip: padding-box;
            background-clip: padding-box;
            position: static;
            margin: 0;
            z-index: 1060;
        }

        .padiPop4Overlay .mataj {
            display: flex;
            align-items: center;
            padding: 0 30px;
        }

        .padiPop4Overlay .mataj p {
            margin-right: 15px;
            margin-bottom: 0 !important;
        }


        .padiPop4Overlay a {
            color: inherit;
            text-decoration: underline;
            border-bottom: none;
        }

        .padiPop4Overlay a:hover {
            color: inherit;
            text-decoration: underline;
            border-bottom: none;
        }

        .padiPop4Overlay div.padiPopupContent {
            -moz-border-radius: 0px;
            -webkit-border-radius: 0px;
            border-radius: 0px;
            margin-bottom: 0;
            -moz-background-clip: padding;
            -webkit-background-clip: padding-box;
            background-clip: padding-box;
            color: #2d2d2d;
            background-color: #fff;
            height: auto;
        }

        .padiPop4Overlay .padiContent {
            padding: 5px 45px 20px 45px;
            color: #2d2d2d;
            overflow-y: scroll;
            max-height: 400px;
            /*
                        text-align: center;
            */
        }

        .padiPop4Overlay .padiContent p {
            margin-top: 0;
            margin-bottom: 8px;
            text-align: center;
        }


        .padiClearfix:after {
            content: " "; /* Older browser do not support empty content */
            visibility: hidden;
            display: block;
            height: 0;
            clear: both;
        }

        .padiPop4Wrap a.padiClose {
            position: absolute;
            width: 18px;
            height: 18px;
            top: 20px;
            right: 20px;
            padding: 0;
            margin: 0;
            display: block;
            background-image: url(http://www.jaknaetrzby.cz/style/padiact/close.png);
            background-repeat: no-repeat;
            background-position: center center;
            border: none;
            opacity: 1;
            text-indent: -1000em;
            z-index: 2000;
        }

        .padiPop4Wrap a.padiClose:hover {
            background-size: 16px 16px;
        }

        /* THE FORM FIELDS */
        .padiPop4Overlay form {
            position: relative;
            padding: 0px 0 20px 0px;
            margin-top: 10px;
            display: block;
        }

        fieldset.padiSet label {
            font-size: 12px;
            line-height: 18px;
            color: #000000;
        }

        .padiPop4Overlay form p.padiCheckTerms {
            width: 330px;
            display: inline-block;
            text-align: left;
            padding: 3px 0 0 0;
            margin: 0;
        }

        .padiCheckTerms input[type=checkbox] {
            visibility: hidden;
        }

        .padiCheckTerms label {
            display: inline-block;
            height: 18px;
            font-size: 12px;
            line-height: 18px;
            padding: 0 0 0 20px;
            color: #000000;
            margin: 0;
            vertical-align: middle;
            background: url(http://data.acomware.cz/popup/dotykacka/radio.png) 0px 0px no-repeat;
            cursor: pointer;
            opacity: 1;
        }

        .padiCheckTerms label:hover {
            background-position: 0px -18px;
        }

        .padiCheckTerms input[type=checkbox]:checked + label {
            background-position: 0px -36px;
        }

        .padiPop4Overlay form .padiField {
            font-family: 'Open Sans', Helvetica, Arial, serif;
            width: 500px;
            height: 40px;
            padding: 4px 10px 0px 10px;
            font-size: 16px;
            font-weight: normal;
            font-style: italic;
            text-align: left;
            line-height: 18px;
            color: #000000;
            vertical-align: middle;
            background-color: #ffffff;
            background-image: none;
            border: 1px solid #ee8654;
            -webkit-transition: opacity ease-in-out .15s, box-shadow ease-in-out .15s;
            -moz-transition: opacity ease-in-out .15s, box-shadow ease-in-out .15s;
            transition: opacity ease-in-out .15s, box-shadow ease-in-out .15s;
            margin: 0px;
            opacity: 1;
        }

        .padiPop4Overlay form .padiCheck {
            margin: 0px 4px 2px 4px;
            vertical-align: bottom;
        }

        .padiPop4Overlay form .padiField:focus {
            outline: 0;
            color: #000000;
            -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(255, 255, 255, 0.6);
            box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(255, 255, 255, 0.6);
        }

        .padiPop4Overlay form .padiLabel {
            font-weight: bold;
        }

        .padiPop4Overlay form .padiRadioLabel {
            font-weight: normal !important;
            font-size: 12px;
        }

        .padiPop4Overlay form option {
            color: #333;
        }

        .padiPop4Overlay form .padiRadio {
            margin-bottom: 1.4em;
            padding: 0;
            list-style: none;
        }

        .padiPop4Overlay form .padiRadio li {
            margin: 3px 0px;
        }

        .padiPop4Overlay form .padiButton:hover {
            border-color: #0081B3;
            opacity: 0.9;
        }

        .padiPop4Overlay form .padiButton:active {
            outline: 0;
            -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.25);
            -moz-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.25);
            box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.25);
        }

        .padiPop4Overlay form .padiButton {
            display: inline-block;
            color: #ffffff;
            background-color: #36424a;
            padding: 0 6px;
            margin: 5px 0 0 0px;
            font-size: 12px;
            width: 165px;
            height: 40px;
            font-weight: bold;
            line-height: 16px;
            text-align: center;
            white-space: nowrap;
            vertical-align: middle;
            cursor: pointer;
            border: 0px solid #3399CC;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            -o-user-select: none;
            user-select: none;
            outline: none;
            opacity: 1;
            font-family: 'Open Sans', Helvetica, Arial, serif;
        }

        .padiPop4Overlay form .padiLabel {
            font-size: 12px;
            display: block;
            margin: 5px 0;
        }

        .padiPop4Overlay form p {
            font-size: 13px;
        }

        .padiPop4Overlay p.privacy {
            color: #000000;
            width: 510px;
            height: 45px;
            font-size: 12px;
            font-weight: normal;
            margin: 0px;
            padding: 0px;
            text-shadow: none;
            text-decoration: none;
            text-align: center;
            line-height: 15px;
        }

        .padiPreload {
            display: inline-block;
            position: absolute;
            top: 12px;
            left: 475px;
            padding: 0px;
        }

        .table-responsive {
            /*            overflow-x: hidden;*/
            overflow-y: hidden;

        }

        .edit-back-btn {
            background-color: #de3333 !important;
            border-color: #de3333 !important;

            border: none !important;
        }

        .edit-save-btn {
            background: linear-gradient(to left, rgba(111, 113, 205, 0.95) 0%, rgba(70, 72, 159, 0.95) 90%);
            border-color: #7375D2 !important;
            border: none !important;
            padding: .57rem .9rem;

        }

        .alert-danger {
            color: #eb6460 !important;
            background-color: rgba(253, 100, 96, .1) !important;
            border: none !important;
        }

        .alert-danger .close {
            color: #eb6460 !important;
            opacity: 1;
        }

        .alert-success {
            /* color: white !important;
            background-color: #84b37b !important;
            border: none !important; */

            background-color: #66ce67 !important;
            border-color: #66ce67 !important;
            /* border: none !important; */
            box-shadow: -1px 0px 20px 0px rgba(0, 0, 0, 0.07);
            color: #fff !important;
            /* color:#2e582f !important;
            background-color: #d9ebdb !important;
            border-color: #b7d5ba !important; */

        }

        .alert-warning .close {
            color: #806027 !important;
            opacity: 1;
        }

        .alert-success .close {
            color: #fff !important;
            opacity: 1;
            /* font-size: 13px;
            color: #2e582f !important;
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%); */
        }

        .close {
            color: white !important;
        }

        .offer-color {
            color: #393ba7;
        }


        .cursor-none {
            cursor: unset !important;
        }

        .done-setting {
            background-color: #3cd8a6 !important;
            border: none !important;
        }

        .sweet-alert .btn-success:focus {
            box-shadow: unset !important;
        }

        .sa-button-container {
            display: flex;
            justify-content: center;
        }

        .sa-button-container button {
            font-size: 15px;
        }

        .sa-button-container .btn-danger {
            background-color: #de3333;
            border-color: #de3333;
        }

        #adminList .highlight {
            background: #ff0;
            color: #000;

            line-height: 11px;

        }

        .applePayOrderBtn button {
            border: 1px solid #000;
            color: #fff !important;
            background-color: #000;
            padding: 4px 20px;
            min-height: 44px;
            border-radius: 4px;
        }

        .applePayOrderBtn button::after {
            display: none;
        }

        .applePayCard .line-with-words {
            margin-bottom: 25px;
            margin-top: 25px;
            display: flex;
            align-items: center;
        }

        .line-with-words .line {
            background: #c9c9c9;
            height: 1px;
            width: 100%;
        }

        .line-with-words .line {
            background: #c9c9c9;
            height: 1px;
            width: 100%;
        }

        .line-with-words .title {
            font-size: 15px;
            min-width: max-content;
            padding: 0 10px;
            font-weight: 600;
        }


        .completePayOnlineBtn {
            max-width: 95%;
            margin: 0 auto;
            padding: 4px 20px;
            min-height: 43px;
            border-radius: 4px;
        }

    </style>
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/css/dark-theme.css?version=1680776865">
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/libs/time-picker/jquery.timepicker.css">
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/libs/dropify/dropify.min.css">
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/libs/summernote/summernote-bs4.min.css">
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/libs/select2/select2.min.css">
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/css/bootstrap-tagsinput.css">
<link href="https://cdn.mapp.sa/cPanel/libs/dropzone/dropzone.min.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/css/cropper.css">
<link rel="stylesheet" href="https://cdn.mapp.sa/cPanel/css/styles/product/create_style.css?version=1680776865">
<style>
        #price-error {
            width: 100% !important;
        }
    </style>

<script>
        (function (h, o, t, j, a, r) {
            h.hj = h.hj || function () {
                (h.hj.q = h.hj.q || []).push(arguments)
            };
            h._hjSettings = {hjid: 1997737, hjsv: 6};
            a = o.getElementsByTagName('head')[0];
            r = o.createElement('script');
            r.async = 1;
            r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
            a.appendChild(r);
        })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');
    </script>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-150819998-1"></script>
<script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'UA-150819998-1');
    </script>
<script>
        // setTimeout(function () {
        //     $('.alert-message').fadeOut('fast');
        // }, 5000);

    </script>
</head>
<body class="">

<div id="wrapper">

<div class="navbar-custom navbar-custom-light cPanelNav">
<ul class="list-unstyled topnav-menu float-right mb-0">
<li class="dropdown notification-list store-notification-list-193008">
<a class="nav-link dropdown-toggle waves-effect notifications_count" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
<span class="kt-pulse">
<i class="fi-rr-bell" style="font-size: 21px;color: #AEB5BC;"></i>
<span class="kt-pulse__ring warning" id="notifi_kt_pulse" style="display: none;"></span>
</span>
<span id="notifications_count_badge">
<span data-count="0" class="badge badge-danger rounded-circle noti-icon-badge" style="display: none">0</span>
</span>
</a>
<div class="dropdown-menu dropdown-menu-right dropdown-lg">

<div class="dropdown-item noti-title">
<h5 class="m-0">
<span class="float-right">
</span>الإشعارات
</h5>
</div>
<div class="slimscroll noti-scroll ">

<a class="dropdown-item notify-item active">
<p class="notify-details">لا يوجد إشعارات</p>
</a>

</div>

<a href="https://mapp.sa/admin/notification" class="dropdown-item text-center text-primary notify-item notify-all">
عرض الكل
<i class="fi-arrow-right"></i>
</a>
</div>
</li>
<li class="dropdown notification-list">
<a class="nav-link dropdown-toggle nav-user mr-0 waves-effect" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
<i class="fi-rr-grid" style="font-size: 21px;color: #AEB5BC;"></i>
</a>
<div class="dropdown-menu dropdown-menu-right grid-dropdown">
<a class="dropdown-item user_item wallet-wrapper">
<div class="icon">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="20" viewBox="0 0 24 20">
<path id="wallet-3" d="M21,6H5A3.012,3.012,0,0,1,2.765,5,3,3,0,0,1,5,4H23a1,1,0,0,0,0-2H5A5,5,0,0,0,0,7V17a5,5,0,0,0,5,5H21a3,3,0,0,0,3-3V9A3,3,0,0,0,21,6Zm1,13a1,1,0,0,1-1,1H5a3,3,0,0,1-3-3V7A5.012,5.012,0,0,0,5,8H21a1,1,0,0,1,1,1Zm-2-5a1,1,0,1,1-1-1A1,1,0,0,1,20,14Z" transform="translate(0 -2)" fill="#9ba5ac" />
</svg>
</div>
<span>المحفظة</span>
<span class="soon">قريباً</span>
</a>
<a href="https://mapp.sa/admin/partnerServiceCategory" class="dropdown-item user_item">
<div class="icon">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="28.632" height="28.631" viewBox="0 0 28.632 28.631">
<defs>
<clipPath id="clip-path">
<rect id="Rectangle_50135" data-name="Rectangle 50135" width="28.632" height="28.631" transform="translate(-3 -3)" fill="#9ba5ac" stroke="#9ba5ac" stroke-width="0.1" />
</clipPath>
</defs>
<g id="Group_52606" data-name="Group 52606" transform="translate(3 3)" clip-path="url(#clip-path)">
<path id="Path_50225" data-name="Path 50225" d="M8.131,0A6.285,6.285,0,0,1,9.188.408a2.427,2.427,0,0,1,1.232,2.14q.033,2.66,0,5.321a2.584,2.584,0,0,1-2.553,2.553q-2.649.027-5.3,0A2.591,2.591,0,0,1,.039,8.231.541.541,0,0,0,0,8.131V2.3a.533.533,0,0,0,.038-.1A2.487,2.487,0,0,1,1.314.361,6.4,6.4,0,0,1,2.3,0Zm.53,5.214q0-1.226,0-2.451a.874.874,0,0,0-.984-1H2.752a.87.87,0,0,0-.984.973q0,2.473,0,4.947a.867.867,0,0,0,.962.973q2.485,0,4.969,0a.867.867,0,0,0,.962-.973q0-1.237,0-2.474" fill="#9ba5ac" stroke="#9ba5ac" stroke-width="0.1" />
<path id="Path_50226" data-name="Path 50226" d="M0,222.53a6.331,6.331,0,0,1,.4-1.039,2.427,2.427,0,0,1,2.152-1.251q2.661-.034,5.323,0a2.584,2.584,0,0,1,2.551,2.558q.026,2.65,0,5.3a2.588,2.588,0,0,1-2.573,2.559q-2.628.024-5.257,0a2.6,2.6,0,0,1-2.555-2.194.539.539,0,0,0-.039-.1V222.53m8.661,2.939q0-1.248,0-2.5A.867.867,0,0,0,7.7,222q-2.485,0-4.969,0a.862.862,0,0,0-.962.951q0,2.5,0,4.991a.862.862,0,0,0,.962.951q2.485,0,4.969,0a.867.867,0,0,0,.962-.973q0-1.226,0-2.451" transform="translate(0 -208.036)" fill="#9ba5ac" stroke="#9ba5ac" stroke-width="0.1" />
<path id="Path_50227" data-name="Path 50227" d="M228.323,0a3.069,3.069,0,0,1,1.288.539,2.538,2.538,0,0,1,1.046,2.028c.019,1.767.022,3.535,0,5.3a2.61,2.61,0,0,1-2.545,2.552q-2.661.035-5.324,0a2.61,2.61,0,0,1-2.545-2.552q-.033-2.65,0-5.3A2.623,2.623,0,0,1,222.454.039a.868.868,0,0,0,.124-.04Zm.574,5.216q0-1.226,0-2.452a.9.9,0,0,0-1-1q-2.452,0-4.9,0a.9.9,0,0,0-.99.982q0,2.463,0,4.926a.9.9,0,0,0,.987.985q2.452,0,4.9,0a.9.9,0,0,0,1-.993q0-1.226,0-2.452" transform="translate(-208.04 0.001)" fill="#9ba5ac" stroke="#9ba5ac" stroke-width="0.1" />
<path id="Path_50228" data-name="Path 50228" d="M230.772,225.532c0,.832,0,1.664,0,2.5a2.65,2.65,0,0,1-2.728,2.737q-2.484,0-4.969,0a2.649,2.649,0,0,1-2.731-2.733q0-2.485,0-4.969a2.648,2.648,0,0,1,2.716-2.725q2.5-.006,4.991,0a2.649,2.649,0,0,1,2.72,2.722c0,.824,0,1.649,0,2.473m-8.661.019c0,.825,0,1.649,0,2.474a.892.892,0,0,0,.978.972q2.463,0,4.926,0a.9.9,0,0,0,.988-.984q0-2.463,0-4.926a.9.9,0,0,0-.989-.983q-2.452,0-4.9,0a.9.9,0,0,0-1,.995q0,1.226,0,2.452" transform="translate(-208.147 -208.14)" fill="#9ba5ac" stroke="#9ba5ac" stroke-width="0.1" />
</g>
</svg>
</div>
<span>خدمات الشركاء</span>
</a>
<a href="https://help.mapp.sa" target="_blank" class="dropdown-item user_item">
<div class="icon">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
<path id="life-ring-3" d="M21.155,19.741a11.954,11.954,0,0,0,0-15.482l.86-.86A1,1,0,0,0,20.6,1.985l-.86.86a11.954,11.954,0,0,0-15.482,0l-.86-.86A1,1,0,1,0,1.985,3.4l.86.86a11.954,11.954,0,0,0,0,15.482l-.86.86A1,1,0,1,0,3.4,22.015l.86-.86a11.954,11.954,0,0,0,15.482,0l.86.86A1,1,0,1,0,22.015,20.6ZM22,12a9.949,9.949,0,0,1-2.262,6.324l-3.571-3.571a4.966,4.966,0,0,0,0-5.506l3.571-3.571A9.949,9.949,0,0,1,22,12ZM9,12a3,3,0,1,1,3,3,3,3,0,0,1-3-3ZM12,2a9.949,9.949,0,0,1,6.324,2.262L14.753,7.833a4.966,4.966,0,0,0-5.506,0L5.676,4.262A9.949,9.949,0,0,1,12,2ZM2,12A9.949,9.949,0,0,1,4.262,5.676L7.833,9.247a4.966,4.966,0,0,0,0,5.506L4.262,18.324A9.949,9.949,0,0,1,2,12ZM12,22a9.949,9.949,0,0,1-6.324-2.262l3.571-3.571a4.966,4.966,0,0,0,5.506,0l3.571,3.571A9.949,9.949,0,0,1,12,22Z" transform="translate(0 0)" fill="#9ba5ac" />
</svg>
</div>
<span>المساعدة</span>
</a>
</div>
</li>
<li class="dropdown notification-list">
<a class="nav-link dropdown-toggle nav-user mr-0 waves-effect" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
<img src="https://cdn.mapp.sa/cPanel/images/users/dcaf.png" alt="MIKE DEEB" class="rounded-circle">
</a>
<div class="dropdown-menu dropdown-menu-right profile-dropdown p-0">
<div class="user-quick-info">
<span>Ali Asri</span>
</div>
<div class="user-membership">
<span class="badge badge-primary">
الباقة البداية
|
362 يوم
</span>
</div>

<a href="https://mapp.sa/admin/profile/show" class="dropdown-item user_item">
<i class="fi-rr-user"></i>
<span>الملف الشخصي</span>
 </a>
<a class="toggle-theme dropdown-item user_item">
<span>
<i class="fi-rr-moon"></i>
<span>النمط الداكن</span>
</span>
<label class="switchy switchy-sm">
<input id="dark-theme-toggle" type="checkbox" />
</label>
</a>

<a href="#" onclick="event.preventDefault(); document.getElementById('logoutFormDiv').submit();" class="dropdown-item user_item">
<svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 16.366 16.486" style="margin-bottom: 3px;
                   margin-left: 5px;">
<g id="on-off-button" transform="translate(-0.089)">
<path id="Path_9072" data-name="Path 9072" d="M6.995,7.664V1.277a1.277,1.277,0,1,1,2.555,0V7.664a1.277,1.277,0,1,1-2.555,0Zm6.341-5.791a.958.958,0,0,0-1.186,1.5,6.267,6.267,0,1,1-7.755,0,.958.958,0,1,0-1.187-1.5,8.183,8.183,0,1,0,10.129,0Z" transform="translate(0)" fill="#f22462"></path>
</g>
</svg>
<span>تسجيل الخروج</span>
</a>
<form id="logoutFormDiv" action="file:///C:/Users/user/Desktop/www.mapp.sa/mapp.sa/login.html" method="POST" style="display: none;">
<input type="hidden" name="_token" value="hRIZpFLu8UJ0iI4JCBwv765Q7thLZOdZqRieuVbk"> </form>
</div>
</li>
</ul>

<ul class="list-unstyled topnav-menu topnav-menu-left m-0">
<li>
<button class="button-menu-mobile waves-effect waves-light">
<span></span>
<span></span>
<span></span>
</button>
</li>
</ul>
</div>


<div class="left-side-menu cPanelMenu">
<div class="slimscroll-menu">

<div id="sidebar-menu">
<div class="logo-bx">
<div class="logo ">
<span class="logo-lg">
<span class="logoCustom">
<img src="https://cdn.mapp.sa/matajerLandingPage/img/defaultLogo.png" alt="logo">
</span>
<span style="color: #fff;padding:0 9px;position: relative;top: -1px;">
<span style="position: relative;
                                            top: 6px;">Ali Asri </span>
<div class="store-demo-wrapper">
<a href="https://mapp.sa/apd" target="_blank" class="storeDemo">
رابط المتجر
<i class="fe-external-link arrow"></i>
</a>
</div>
</span>
</span>
<span class="logo-sm col-6 col-xl-3">
<span class="logo-sm-text-dark">
 <img src="https://cdn.mapp.sa/matajerLandingPage/img/defaultLogo.png" width="50" alt="">
</span>
</span>
</div>
</div>
<ul class="metismenu" id="side-menu">
<li>
<a href="file:///C:/Users/user/Desktop/www.mapp.sa/mapp.sa/iindex.html">
<i class="fi-rr-home"></i>
<span> الرئيسية </span>
</a>
</li>
<li class="withDropdown">
<a href="javascript: void(0);">
<img src="https://cdn.mapp.sa/cPanel/images/productss.svg" alt="">
<span> المنتجات </span>
<span class="menu-arrow"></span>
</a>
<ul class="nav-second-level" aria-expanded="false">
<li>
<a href="file:///C:/Users/user/Desktop/www.mapp.sa/mapp.sa/product.html">المنتجات</a>
</li>
<li>
<a href="file:///C:/Users/user/Desktop/www.mapp.sa/mapp.sa/category.html">التصنيفات</a>
</li>
<li>
<a href="file:///C:/Users/user/Desktop/www.mapp.sa/mapp.sa/tradeMark.html">الماركات</a>
</li>
</ul>
</li>
<li>
<a href="file:///C:/Users/user/Desktop/www.mapp.sa/mapp.sa/order.html">
<i class="fi-rr-box"></i>
<span> الطلبات </span>
</a>
</li>
<li>
<a href="file:///C:/Users/user/Desktop/www.mapp.sa/mapp.sa/client.html">
<svg id="Layer_1" height="18" viewBox="0 0 24 24" width="20" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" fill="#fff">
<path d="m7.5 13a4.5 4.5 0 1 1 4.5-4.5 4.505 4.505 0 0 1 -4.5 4.5zm0-7a2.5 2.5 0 1 0 2.5 2.5 2.5 2.5 0 0 0 -2.5-2.5zm7.5 17v-.5a7.5 7.5 0 0 0 -15 0v.5a1 1 0 0 0 2 0v-.5a5.5 5.5 0 0 1 11 0v.5a1 1 0 0 0 2 0zm9-5a7 7 0 0 0 -11.667-5.217 1 1 0 1 0 1.334 1.49 5 5 0 0 1 8.333 3.727 1 1 0 0 0 2 0zm-6.5-9a4.5 4.5 0 1 1 4.5-4.5 4.505 4.505 0 0 1 -4.5 4.5zm0-7a2.5 2.5 0 1 0 2.5 2.5 2.5 2.5 0 0 0 -2.5-2.5z"></path>
</svg>
<span> العملاء </span>
</a>
</li>
<li>
<a href="javascript:void(0)" onclick="swal({
                                               icon: 'warning',
                                               text: 'هذه الخاصية غير متاحه فى باقتك , الرجاء ترقية باقتك لباقة أعلى لإتاحتها',
                                               buttons: {
                                               confirm: {
                                               text: 'الإطلاع على الباقات',
                                               value: true,
                                               visible: true,
                                               closeModal: true
                                               },
                                               cancel:{
                                               text: 'إلغاء',
                                               visible: true,
                                               }
                                               },
                                               customClass: ' slow-animation',

                                               }).then((result) => {
                                               if (result) {
                                               window.location.href = 'https://mapp.sa/admin/subscriptionPlan';
                                               }
                                               });">
<i class="fi-rr-chart-pie-alt"></i>
<span> التقارير
</span>
</a>
</li>
<li class="withDropdown">
<a href="javascript: void(0);">
<i class="fi-rr-megaphone"></i>
<span> التسويق</span>
<span class="menu-arrow"></span>
</a>
<ul class="nav-second-level" aria-expanded="false">
 <li>
<a href="#marketers">
التسويق بالعمولة
</a>
</li>
<li>
<a href="javascript:void(0)" onclick="swal({
                                                        type: 'warning',
                                                        title:  ' هذه الخاصية غير متاحه فى باقتك , الرجاء ترقية باقتك لباقة أعلى لإتاحتها',
                                                        confirmButtonText: 'الإطلاع على الباقات',
                                                        cancelButtonText: 'إلغاء',
                                                        showCancelButton: true,
                                                        confirmButtonClass: 'btn-success',
                                                        closeOnConfirm: false,
                                                        },
                                                        function(){
                                                        window.location.href = 'subscriptionPlan';
                                                        });">
<span> السلات المتروكة </span>
</a>
</li>
<li>
<a href="#coupon">كوبونات الخصم</a>
</li>
</ul>
</li>
<li>
<a href="file:///C:/Users/user/Desktop/www.mapp.sa/mapp.sa/setting.html">
<i class="fi-rr-settings"></i>
<span> الإعدادات </span>
</a>
</li>
</ul>
<div class="nav-downoads text-center">
</div>
</div>
<br><br>

<div class="clearfix"></div>
</div>

</div>




<div class="content-page">
<div class="content">

<div class="container-fluid">

<div class="row">
<div class="col-12 col-no-padding">
<div class="page-title-box">
<div class="page-title-right">
<ol class="breadcrumb m-0">
<li class="breadcrumb-item"><a href="file:///C:/Users/user/Desktop/www.mapp.sa/mapp.sa/iindex.html">الرئيسية</a></li>
<li class="breadcrumb-item"><a href="file:///C:/Users/user/Desktop/www.mapp.sa/mapp.sa/product.html">المنتجات</a></li>
<li class="breadcrumb-item active">إضافة منتج جديد</li>
</ol>
</div>
<h4 class="page-title">إضافة منتج جديد </h4>
</div>
</div>
</div>
<div class="row-fluid">

</div>


<div class="row">
<div class="col-12 col-no-padding">
<div class="card">
<div class="card-body">
<div class="createProductPage">
<form method="POST" action="file:///C:/Users/user/Desktop/www.mapp.sa/mapp.sa/product.html" enctype="multipart/form-data" multiple id="form_data">
<input type="hidden" name="_token" value="hRIZpFLu8UJ0iI4JCBwv765Q7thLZOdZqRieuVbk"> <input name="product_images" value="[]" type="hidden" />
<input name="cover_image" value="" type="hidden" />
<input name="warning_quantity" id="warning_quantity" value="" type="hidden">
<div class="form-row">
<div class="form-group col-lg-6 col-md-12 mt-2 poTop-7">
<label class="col-form-label"> اسم المنتج <a class="requireStar"> * </a></label>
<ul class="nav nav-tabs tab-floated">
</ul>
<div class="tab-content pt-0">
<div class="tab-pane active show" id="ar">
<input value="" required name="name_ar" id="name_ar" type="text" class="form-control " placeholder=" اسم المنتج">
</div>
</div>
<div class="row mt-4">
<div class="col-md-4 col-6">
<div class="form-group">
<label class="col-form-label">رمز المنتج
SKU<span data-toggle="tooltip" data-placement="bottom" title=" تعني وحدة حفظ المخزون وهو كود مميز يتكون من رموز وارقام تميز كل منتج بالمتجر على حدى ، و يساعدك الرمز على تحديد وتتبع المنتجات الموجودة في المخزن و البحث عنها بسهولة ." class="mdi mdi-alert-circle infoTooltip"></span>
</label>
<input value="00000001" name="code" id="code" type="text" placeholder="رمز المنتج" aria-label="code" aria-describedby="code" class="form-control">
</div>
</div>
<div class="form-group col-md-4 col-6">
<div style="display: flex;align-items: center;justify-content: space-between;">
<label class="col-form-label">
الكمية
</label>
<div class="checkbox checkbox-primary form-check-block">
<input name="unlimited_quantity" type="checkbox" class="CheckedItem" id="customSwitch11-quantity">
<label for="customSwitch11-quantity">
غير
محددة
</label>
</div>
</div>
<input type="text" name="quantity" id="quantity" value="" class="form-control" placeholder=" الكمية المتوفرة للمنتج" onpaste="pasteIt(event,this.value,this)" onkeypress="isInputNumber(event,this.value)" inputmode="decimal">
</div>
<div class="form-group col-md-4">
<label class="col-form-label">وزن المنتج ( kg ) <span data-toggle="tooltip" data-placement="bottom" title="في حال كان المنتج بالجرام : مثال : لتحويل 1 كيلوجرام إلى وحدة الجرام، 1 كيلوجرام= 1×1000 = 1000 جرام. وتكتب : 0.001" class="mdi mdi-alert-circle infoTooltip"></span></label>
<input type="text" name="weight" id="weight" value="" class="form-control preventStringPaste" placeholder="وزن المنتج " max="9999999" onkeypress="isInputDouble(event,this.value)" onpaste="pasteIt(event,this.value,this)">
</div>
</div>
</div>
<div class="form-group col-lg-6 col-md-12">
<div class="row justify-content-end prodStatMob">
<div class="ml-15">
<div class="form-group">
 <div class="checkbox checkbox-primary checkbox-custom-primary form-check-block">
<input type="checkbox" id="is_digital_content" onclick=" $(this).prop('checked', false);swal({
                                                               icon: 'warning',
                                                               text: 'هذه الخاصية غير متاحه فى باقتك , الرجاء ترقية باقتك لباقة أعلى لإتاحتها',
                                                               buttons: {
                                                               confirm: {
                                                               text: 'الإطلاع على الباقات',
                                                               value: true,
                                                               visible: true,
                                                               className: 'btn-success',
                                                               closeModal: true
                                                               },
                                                               cancel:{
                                                               text: 'إلغاء',
                                                               className: 'btn-default',
                                                               visible: true,
                                                               }
                                                               },
                                                               customClass: ' slow-animation',

                                                               }).then((result) => {
                                                               if (result) {
                                                               window.location.href = 'https://mapp.sa/admin/subscriptionPlan';
                                                               }
                                                               $(this).prop('checked', false);
                                                               });" class="CheckedItem">
<label for="is_digital_content">
المنتج
لا
يتطلب شحن <span data-toggle="tooltip" data-placement="bottom" title="هذا الخيار يدعم المنتجات الخدمية (الرقمية) فقط وسيسمح للعميل بإتمام الطلب بدون الحاجة لإختيار إحدى شركات الشحن، في حال أن منتجك يتطلب الشحن لعنوان العميل الرجاء تفعيله." class="mdi mdi-alert-circle infoTooltip"></span>
</label>
</div>
</div>
</div>
<div class="ml-15">
<div class="form-group">
<div class="checkbox checkbox-primary checkbox-custom-primary form-check-block">
 <input type="checkbox" id="is_free_shipping" name="is_free_shipping" class="CheckedItem">
<label for="is_free_shipping">
شحن مجاني
</label>
</div>
</div>
</div>
<div class="ml-15">
<div class="form-group">
<label class="switchy switchy-sm">
<input type="checkbox" name="deactivated_at" checked>
النشر على المتجر
</label>
</div>
</div>
</div>
<div class="priceItem">
<div class="row">
<div class="col-md-6 col-6">
<label class="col-form-label">السعر <a class="requireStar">
* </a></label>
<div class="input-group priceInputWrap">
<input value="" required name="price" id="price" type="text" class="form-control w-50  preventStringPaste" placeholder="السعر" aria-label="price" max="9999999" aria-describedby="price" onpaste="pasteIt(event,this.value,this)" onkeypress="isInputDouble(event,this.value)" inputmode="decimal">
<div class="input-group-prepend left"><span class="input-group-text" id="price">SAR
</span>
</div>
</div>
</div>
<div class="col-md-6 col-6">
<div class="form-group">
<label class="col-form-label">تكلفة المنتج </label>
<input value="" name="cost_price" id="cost_price" type="text" max="9999999" class="form-control  preventStringPaste" placeholder="  هذا الحقل لا يظهر أمام العميل " onpaste="pasteIt(event,this.value,this)" onkeypress="isInputDouble(event,this.value)" inputmode="decimal">
</div>
</div>
</div>
<div class="row align-items-center">
<div class="col-md-6">
<div class="checkbox checkbox-primary checkbox-custom-primary form-check-block">
<input type="checkbox" id="is_offer" name="is_offer" class="CheckedItem">
<label for="is_offer">هناك تخفيض</label>
</div>
</div>
</div>
<div class="input-group" id="price_after_discount_div" style="display: none">
<div class="input-group-prepend"><span class="input-group-text" id="priceDiscount">SAR</span>
</div>
<input id="price_after_discount" value="" name="price_after_discount" type="text" class="form-control  preventStringPaste" placeholder="السعر بعد التخفيض" max="9999999" aria-label="price" aria-describedby="priceDiscount" onpaste="pasteIt(event,this.value,this)" onkeypress="isInputDouble(event,this.value)" inputmode="decimal">
</div>
</div>
</div>
<div class="form-group col-md-8">
<label class="col-form-label">التصنيف</label>
<div class="row no-gutters">
<div class="col-md-11 col-10">
<div class="customSelectWrap">
<select id="mySelect2" name="categories[]" class="selecta  js-select2 form-control categories" multiple="multiple">
</select>
</div>
</div>
<div class="col-md-1 col-2">
<button type="button" class="btn bg-purple waves-effect waves-light mx-2 categoryBtnAdd" data-toggle="modal" data-target="#productCategory">اضافة
</button>
</div>
</div>
</div>
<div class="col-md-4"></div>
<div class="col-md-8 mb-3">
<label class="col-form-label"> وصف قصير للمنتج <span data-toggle="tooltip" data-placement="bottom" title="" class="mdi mdi-alert-circle infoTooltip" data-original-title="يظهر في البطاقة الخارجية للمنتج"></span></label>
<ul class="nav nav-tabs tab-floated">
</ul>
<div class="tab-content pt-0">
<div class="tab-pane active show" id="label_ar_tab">
<div class="description-sm-input">
<input value="" name="label_ar" id="label_ar" maxlength="20" type="text" class="form-control " placeholder="مثال : خصم 50%">
<div id="counterLabelAr" class="counterItem"></div>
</div>
</div>
</div>
</div>
<div class="form-group col-md-12">
<label class="col-form-label pt-2 pb-2">الوصف </label>
<ul class="nav nav-tabs tab-floated langtabNav">
</ul>
<div class="tab-content pt-0">
<div class="tab-pane active show" id="ardes" style="position: relative;">
<textarea class="form-control summernote" id="description_ar" name="description_ar" rows="5" data-msg="Please write something :)" placeholder="ضع وصف  لمنتجك هنا "></textarea>
</div>
</div>
<div style="margin: -10px 0 10px 0;" id="decsAr-error" class="abs_error help-block has-error"></div>
<div style="margin: -10px 0 10px 0;" id="decsEn-error" class="abs_error help-block has-error"></div>
</div>
<div class="form-group col-md-12" style="display: none">
<div class="card">
<div class="card-body">
<div class="varients"></div>
<div class="varients_q"></div>
</div>
</div>
</div>
</div>
</form>
<div class="form-group">
<label class="col-form-label"> الصور<a class="requireStar"> * </a><span data-toggle="tooltip" data-placement="bottom" title="المقاس المفضل للصورة 500px*500px و اقصى حجم مسموح به 2 ميجا و الصيغ المدعومة png,jpg,jpeg" class="mdi mdi-alert-circle infoTooltip"></span></label>
<form id="sample-img">
<div class="dropzone" id="myAwesomeDropzone">
<div class="fallback">
<input name="file[]" id="cropperFileInput" accept="image/*" type="file" multiple /></div>
<div class="dz-message needsclick"><img src="https://cdn.mapp.sa/cPanel/images/upload-icon.png" width="40px">
<p class="text-muted font-13">اسحب واسقط الصور هنا</p>
</div>
</div>
</form>
</div>
<div class="form-group">
<label class="col-form-label">خيارات المنتج</label>
<div class="card no-shadow border-0">
<a class="collapsed col-form-label collappseArrow productCollapseWrap" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
خيارات المنتج <span class="font-13"> ( فى حالة وجود خيارات مثل الحجم و اللون ..الخ
) وإضافة ماركة للمنتج</span>
<span class="fa fa-angle-down arrowIcon"></span>
</a>
<div class="collapse" id="collapseExample">
<div class="row">
<div class="col-md-6">
<div class="card card-body productCollapseBody mb-0 border-0">
<a href="javascript:void(0)" data-toggle="modal" data-target="#ProductmoreOptions" class="btn btn-primary d-block waves-effect waves-light mt-3"> اضافة
خيارات </a>
<div class="form-group mt-3">
<label class="col-form-label">الماركة </label>
<div class="row no-gutters">
<div class="col-10">
<div class="customSelectWrap">
<select name="trade_mark_id" id="trade_mark_id" class="form-control">
<option value="0">-- قم باختيار التصنيف الرئيسي
أولاً
</option>
</select>
</div>
</div>
<div class="col-2 ">
<button type="button" class="btn bg-purple waves-effect waves-light mx-2 trademarkCreateBtn" data-toggle="modal" data-target="#productBrand">
اضافة
</button>
</div>
</div>
</div>
<div class="form-group mt-3 mb-1">
<div class="checkbox checkbox-primary form-check-block mb-1">
<input type="checkbox" id="appointment_reservation_disabled" onclick=" $(this).prop('checked', false);
                                                                       swal({
                                                                       icon: 'warning',
                                                                       text: 'هذه الخاصية غير متاحه فى باقتك , الرجاء ترقية باقتك لباقة أعلى لإتاحتها',
                                                                       buttons: {
                                                                       confirm: {
                                                                       text: 'الإطلاع على الباقات',
                                                                       value: true,
                                                                       visible: true,
                                                                       className: 'btn-success',
                                                                       closeModal: true
                                                                       },
                                                                       cancel:{
                                                                       text: 'إلغاء',
                                                                       className: 'btn-default',
                                                                       visible: true,
                                                                       }
                                                                       },
                                                                       customClass: ' slow-animation',
                                                                       }).then((result) => {
                                                                       if (result) {
                                                                       window.location.href = 'https://mapp.sa/admin/subscriptionPlan';
                                                                       }
                                                                       $(this).prop('checked', false);
                                                                       });" />
<label for="appointment_reservation_disabled"> تفعيل خاصية
حجز
المواعيد</label>
<input type="checkbox" onclick=" $(this).prop('checked', false);
                                                                       swal({
                                                                       icon: 'warning',
                                                                       text: 'هذه الخاصية غير متاحه فى باقتك , الرجاء ترقية باقتك لباقة أعلى لإتاحتها',
                                                                       buttons: {
                                                                       confirm: {
                                                                       text: 'الإطلاع على الباقات',
                                                                       value: true,
                                                                       visible: true,
                                                                       className: 'btn-success',
                                                                       closeModal: true
                                                                       },
                                                                       cancel:{
                                                                       text: 'إلغاء',
                                                                       className: 'btn-default',
                                                                       visible: true,
                                                                       }
                                                                       },
                                                                       customClass: ' slow-animation',
                                                                       }).then((result) => {
                                                                       if (result) {
                                                                       window.location.href = 'https://mapp.sa/admin/subscriptionPlan';
                                                                       }
                                                                       $(this).prop('checked', false);
                                                                       });" class="CheckedItem">
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="form-group text-left">
<button type="submit" id="save_data" class="btn btn-primary waves-effect waves-light mt-3 has-spinner-link">
<div class="button_text">
حفظ
</div>
</button>
</div>
</div>
</div> 
</div> 
</div> 
</div>

<div class="modal fade" id="fakeModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false" aria-labelledby="modalLabel" aria-hidden="true">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
</div>
<div class="modal-body">
</div>
<div class="modal-footer">
</div>
</div>
</div>
</div>
<div class="modal fade" id="appointmentReservationModal" tabindex="-1" role="dialog" data-keyboard="false" aria-labelledby="modalLabel" aria-hidden="true">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title">حجز المواعيد</h4>
<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
</div>
<div class="modal-body p-2">
<div class="table-responsive">
<table class="table mb-0">
<tbody class="border-0">
<tr>
<td>
الأحد
</td>
<td>
<div class="custom-control custom-switch">
<input type="checkbox" class="custom-control-input Sunday" id="customSwitch0">
<label class="custom-control-label" for="customSwitch0">متاح</label>
</div>
</td>
<td>
<input class="timepicker timepicker-with-dropdown text-center Sunday_start_at">
<input class="timepicker timepicker-with-dropdown text-center Sunday_end_at">
</td>
</tr>
<tr>
<td>
الإثنين
</td>
<td>
<div class="custom-control custom-switch">
<input type="checkbox" class="custom-control-input Monday" id="customSwitch1">
<label class="custom-control-label" for="customSwitch1">متاح</label>
</div>
</td>
<td>
<input class="timepicker timepicker-with-dropdown text-center Monday_start_at">
<input class="timepicker timepicker-with-dropdown text-center Monday_end_at">
</td>
</tr>
<tr>
<td>
الثلاثاء
</td>
<td>
<div class="custom-control custom-switch">
<input type="checkbox" class="custom-control-input Tuesday" id="customSwitch2">
<label class="custom-control-label" for="customSwitch2">متاح</label>
</div>
</td>
<td>
<input class="timepicker timepicker-with-dropdown text-center Tuesday_start_at">
<input class="timepicker timepicker-with-dropdown text-center Tuesday_end_at">
</td>
</tr>
<tr>
<td>
الأربعاء
</td>
<td>
<div class="custom-control custom-switch">
<input type="checkbox" class="custom-control-input Wednesday" id="customSwitch3">
 <label class="custom-control-label" for="customSwitch3">متاح</label>
</div>
</td>
<td>
<input class="timepicker timepicker-with-dropdown text-center Wednesday_start_at">
<input class="timepicker timepicker-with-dropdown text-center Wednesday_end_at">
</td>
</tr>
<tr>
<td>
الخميس
</td>
<td>
<div class="custom-control custom-switch">
<input type="checkbox" class="custom-control-input Thursday" id="customSwitch4">
<label class="custom-control-label" for="customSwitch4">متاح</label>
</div>
</td>
<td>
<input class="timepicker timepicker-with-dropdown text-center Thursday_start_at">
<input class="timepicker timepicker-with-dropdown text-center Thursday_end_at">
</td>
</tr>
<tr>
<td>
الجمعة
</td>
<td>
<div class="custom-control custom-switch">
<input type="checkbox" class="custom-control-input Friday" id="customSwitch5">
<label class="custom-control-label" for="customSwitch5">متاح</label>
</div>
</td>
<td>
<input class="timepicker timepicker-with-dropdown text-center Friday_start_at">
<input class="timepicker timepicker-with-dropdown text-center Friday_end_at">
</td>
</tr>
<tr>
<td>
السبت
</td>
<td>
<div class="custom-control custom-switch">
<input type="checkbox" class="custom-control-input Saturday" id="customSwitch6">
<label class="custom-control-label" for="customSwitch6">متاح</label>
</div>
</td>
<td>
<input class="timepicker timepicker-with-dropdown text-center Saturday_start_at">
<input class="timepicker timepicker-with-dropdown text-center Saturday_end_at">
</td>
</tr>
</tbody>
</table>
</div>
 <div class="text-left pt-2">
<button type="button" class="btn btn-primary ml-1   save-days" data-dismiss="modal">حفظ
</button>
</div>
</div> 
</div> 
</div>
</div>
</div> 
</div> 

<footer class="footer">
<div class="container-fluid">
<div class="row">
<div class="col-md-6">
جميع الحقوق محفوظة 2023 ©
<a style="color:#00ff80 ">منصة My Shop</a>
</div>
</div>
</div>
</footer> 
</div>



</div>


<div class="rightbar-overlay"></div>

<div id="loader-modal" class="loader-modal">

<b title="من فضلك الإنتظار" id="loader-modal-content">
<img src="https://cdn.mapp.sa/cPanel/media/img/load.gif" alt="" width="22">
جاري التحميل</b>
</div>
<script>
    var UrlForScripts = 'https://mapp.sa';

</script>

<script src="https://cdn.mapp.sa/cPanel/js/vendor.min.js"></script>

<script src="https://cdn.mapp.sa/cPanel/libs/peity/jquery.peity.min.js"></script>
<script src="https://cdn.mapp.sa/cPanel/libs/flatpickr/flatpickr.min.js"></script>
<script src="https://cdn.mapp.sa/cPanel/libs/jquery-knob/jquery.knob.min.js"></script>
<script src="https://cdn.mapp.sa/cPanel/libs/jquery-sparkline/jquery.sparkline.min.js"></script>
<script src="https://cdn.mapp.sa/cPanel/libs/flot-charts/jquery.flot.js"></script>
<script src="https://cdn.mapp.sa/cPanel/libs/flot-charts/jquery.flot.time.js"></script>
<script src="https://cdn.mapp.sa/cPanel/libs/flot-charts/jquery.flot.tooltip.min.js"></script>
<script src="https://cdn.mapp.sa/cPanel/libs/flot-charts/jquery.flot.pie.js"></script>
<script src="https://cdn.mapp.sa/cPanel/libs/flot-charts/jquery.flot.selection.js"></script>
<script src="https://cdn.mapp.sa/cPanel/libs/flot-charts/jquery.flot.crosshair.js"></script>
<script src="https://cdn.mapp.sa/cPanel/libs/d3/d3.min.js"></script>
<script src="https://cdn.mapp.sa/cPanel/libs/c3/c3.min.js"></script>
<script src="https://cdn.mapp.sa/cPanel/js/pages/dashboard-1.init.js"></script>
<script src="https://cdn.mapp.sa/cPanel/js/pages/flot.init.js"></script>
<script src="https://cdn.mapp.sa/cPanel/js/pages/c3.init.js"></script>
<script src="https://cdn.mapp.sa/cPanel/js/app.min.js"></script>
<script src="https://cdn.mapp.sa/cPanel/js/jquery.validate.min.js"></script>
<script src="https://cdn.mapp.sa/cPanel/js/validate.js"></script>
<script src="https://cdn.mapp.sa/cPanel/js/sweetalert.js"></script>
<script src="https://cdn.mapp.sa/cPanel/libs/switchery/switchy.min.js"></script>
<script src="https://cdn.mapp.sa/cPanel/js/clipboard.js"></script>


<script>
        var UrlForScripts = 'https://mapp.sa';
        var integrateDropzoneCropperUrl = 'https://mapp.sa/admin';
        //console.log(integrateDropzoneCropperUrl);
        //let create_product_images_blobs = new FormData();
    </script>
<script src="https://cdn.mapp.sa/cPanel/libs/time-picker/jquery.timepicker.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="https://cdn.mapp.sa/cPanel/libs/dropify/dropify.min.js"></script>
<script src="https://cdn.mapp.sa/cPanel/libs/select2/select2.min.js"></script>
<script src="https://cdn.mapp.sa/cPanel/js/bootstrap-tagsinput.js"></script>
<script src="https://cdn.mapp.sa/cPanel/js/pages/form-advanced.init.js"></script>
 <script src="https://cdn.mapp.sa/cPanel/libs/dropzone/dropzone.min.js"></script>
<script src="https://cdn.mapp.sa/cPanel/libs/tippy-js/tippy.all.min.js"></script>
<script src="https://cdn.mapp.sa/cPanel/libs/summernote/summernote-bs4.js"></script>
<script src="https://cdn.mapp.sa/cPanel/libs/summernote/lang/summernote-ar-AR.min.js"></script>
<script src="https://cdn.mapp.sa/cPanel/js/pages/integrateDropzoneCropper.js?version=1680776865"></script>
<script src="https://cdn.mapp.sa/cPanel/js/cropper.js?version=1680776865"></script>
<script src="https://cdn.mapp.sa/cPanelAndApp/js/preventTypeDash.js"></script>
<script src="https://cdn.mapp.sa/cPanel/js/scripts/product/createScript.js?version=1680776865"></script>
<script>
    //get categories
    //detect current main category
    var m_category = $('#mainCategory');
    var main_category = m_category.val();
    var trade_mark = $('#trade_mark');
    var lang = "ar";
    $.ajax({
        url: "https://mapp.sa/admin/tradeMarks",
        type: 'post',
        data: {'main_category': main_category, '_token': "hRIZpFLu8UJ0iI4JCBwv765Q7thLZOdZqRieuVbk"},
        success: function (response) {
            trade_mark.html('');
            if (response.length > 0) {
                trade_mark.append('<option value="">اختر ماركة المنتج</option>');
                $.each(response, function (i, option) {
                    trade_mark.append('<option value="' + option["id"] + '">' + option["name"] + '</option>');
                });
            } else {
                trade_mark.append('<option value="">اختر ماركة المنتج</option>');
            }
        },
        error: function (response) {
            /*alert(response);*/
        }
    });
    //on change main category
    m_category.on('change', function () {
        var selector_value = $(this).val();
        $.ajax({
            url: "https://mapp.sa/admin/tradeMarks",
            type: 'post',
            data: {'main_category': selector_value, '_token': "hRIZpFLu8UJ0iI4JCBwv765Q7thLZOdZqRieuVbk"},
            success: function (response) {
                trade_mark.html('');
                if (response.length > 0) {
                    trade_mark.append('<option value="">اختر ماركة المنتج</option>');
                    $.each(response, function (i, option) {
                        trade_mark.append('<option value="' + option["id"] + '">' + option["name"] + '</option>');
                    });
                } else {
                    trade_mark.append('<option value="">اختر ماركة المنتج</option>');
                }
            },
            error: function (response) {
                /*alert(response);*/
            }
        });
    });
</script>
<script>
    $(document).on('click', '.doBtn', function (e) {
        $.ajaxSetup({
            headers: {
                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
            }
        });
        e.preventDefault();
        var id = $(this).data('id');
        var desc = $(this).data('desc');
        var type = $(this).data('type');
        var url = $(this).data('url');
        var btn = $(this);
        swal({
            title: "تأكيد العملية!",
            text: desc,
            icon: 'warning',
            cancelButtonColor: '#d33',
            confirmButtonClass: 'btn btn-success',
            cancelButtonClass: 'btn btn-gray',
            buttonsStyling: true,
            cancelButtonText: 'إلغاء',
            confirmButtonText: "تأكيد !",
            buttons: {
                confirm: {
                    text: "تأكيد !",
                    value: true,
                    visible: true,
                    className: 'btn btn-success',
                    closeModal: true
                }, cancel: {
                    text: "إلغاء !",
                    value: null,
                    visible: true,
                    className: 'btn btn-danger',
                    closeModal: true,
                },
            },
            showCancelButton: true
        }).then(
            (result) => {
                if (result) {
                    $.ajax({
                        type: type,
                        url: url,
                        success: function (data) {
                            if (data.status === 0) {
                                swal({
                                    icon: 'warning',
                                    title: data.message,
                                    timer: 4000,
                                    buttons: {
                                        confirm: {
                                            text: "تأكيد !",
                                            value: true,
                                            visible: true,
                                            className: 'btn btn bg-purple waves-effect waves-light',
                                            closeModal: true
                                        },
                                    }
                                });
                            } else {
                                if (url.indexOf('delete') !== -1) {
                                    swal({
                                        title: 'تم تنفيذ العملية بنجاح',
                                        text: 'تم تنفيذ العملية بنجاح',
                                        icon: 'success',
                                        timer: 2000,
                                        showConfirmButton: true,
                                        buttons: {
                                            confirm: {
                                                text: "تأكيد !",
                                                value: true,
                                                visible: true,
                                                className: 'btn btn bg-purple waves-effect waves-light',
                                                closeModal: true
                                            },
                                        },
                                        confirmButtonClass: 'btn btn-success',
                                        buttonsStyling: true,
                                    }).then((result) => {
                                        if (result) {
                                            var item = $('#item-' + id);
                                            $('#item-' + id).fadeOut(500);
                                            $('#item-' + id).remove();
                                            // console.log(data.categories);
                                            btn.parent().remove();
                                        }
                                    });
                                } else {
                                    swal({
                                        title: 'تم تنفيذ العملية بنجاح',
                                        text: data.message,
                                        icon: 'success',
                                        timer: 2000,
                                        showConfirmButton: true,
                                        buttons: {
                                            confirm: {
                                                text: "تأكيد !",
                                                value: true,
                                                visible: true,
                                                className: 'btn btn bg-purple waves-effect waves-light',
                                                closeModal: true
                                            },
                                        },
                                        confirmButtonClass: 'btn btn-success',
                                        buttonsStyling: true,
                                    }).then((result) => {
                                        if (result) {
                                            //  location.reload();
                                            btn.parent().find('.hidden').removeClass('hidden').removeClass('next');
                                            btn.addClass('hidden').addClass('next');
                                        }
                                    });
                                }
                            }
                        },
                        error: function (data) {
                            swal({
                                icon: 'warning',
                                title: 'حدثت خلل أثناء عملية الحذف',
                                timer: 4000,
                                buttons: {
                                    confirm: {
                                        text: "تأكيد !",
                                        value: true,
                                        visible: true,
                                        className: 'btn btn bg-purple waves-effect waves-light',
                                        closeModal: true
                                    },
                                },
                            });
                        }
                    });
                }
            });
    });
    $(document).on('click', '.deleteBtn', function (e) {
        $.ajaxSetup({
            headers: {
                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
            }
        });
        e.preventDefault();
        var id = $(this).data('id');
        var url = $(this).data('url');
        var categorySelect = $('#mySelect2');
        swal({
            title: "تأكيد عملية الحذف !",
            text: "",
            icon: 'warning',
            buttons: {
                confirm: {
                    text: "تأكيد !",
                    value: true,
                    visible: true,
                    className: 'btn btn-success',
                    closeModal: true,
                }, cancel: {
                    text: "إلغاء !",
                    value: null,
                    visible: true,
                    className: 'btn btn-danger',
                    closeModal: true,
                },
            }
        }).then((result) => {
            if (result) {
                $.ajax({
                    type: "DELETE",
                    url: url,
                    success: function (data) {
                        if (data.status === 0) {
                            swal({
                                icon: 'warning',
                                title: data.message,
                                timer: 4000,
                                buttons: {
                                    confirm: {
                                        text: "تأكيد !",
                                        value: true,
                                        visible: true,
                                        className: 'btn btn bg-purple waves-effect waves-light',
                                        closeModal: true
                                    },
                                },
                            });
                        } else {
                            swal({
                                icon: 'success',
                                title: data.message,
                                timer: 2000,
                                buttons: {
                                    confirm: {
                                        text: "تأكيد !",
                                        value: true,
                                        visible: true,
                                        className: 'btn btn bg-purple waves-effect waves-light',
                                        closeModal: true
                                    },
                                },
                            });
                            var item = $('#item-' + id);
                            $('#item-' + id).fadeOut(500);
                            $('#item-' + id).remove();
                            categorySelect.empty();
                            // $.each(data.categories, function (i, option) {
                            //     categorySelect.append('<optgroup><option value="' + option['id'] + '">' + option['name'] + '</option></optgroup>');
                            //     $.each(option.sub_categories, function (i, option) {
                            //         categorySelect.append('<option value="' + option['id'] + '">' + option['name'] + '</option>');
                            //
                            //     });
                            // });
                            $.each(data.categories, function (i, option) {
                                // console.log(option)
                                if (option.sub_categories.length > 0) {
                                    categorySelect.append('<optgroup label="mCategory"><option disabled value="' + option['id'] + '">' + option['name'] + '</option></optgroup>');
                                } else {
                                    categorySelect.append('<optgroup label="mCategory"><option value="' + option['id'] + '">' + option['name'] + '</option></optgroup>');
                                }
                                $.each(option.sub_categories, function (d, option) {
                                    if (option.sub_categories.length > 0) {
                                        categorySelect.append('<optgroup label="sCategory"><option  value="' + option['id'] + '">' + option['name'] + '</option></optgroup>');
                                    } else {
                                        categorySelect.append('<optgroup label="sCategory"><option value="' + option['id'] + '">' + option['name'] + '</option></optgroup>');
                                    }
                                    var parentName = option['name'];
                                    $.each(option.sub_categories, function (c, option) {
                                        categorySelect.append('<optgroup label="ssCategory"><option class="subSubCategory" value="' + option['id'] + '">' + option['name'] + '</option></optgroup>');
                                    });
                                });
                            });
                        }
                    },
                    error: function (data) {
                        swal({
                            icon: 'warning',
                            title: 'حدثت خلل أثناء عملية الحذف',
                            timer: 4000,
                            buttons: {
                                confirm: {
                                    text: "تأكيد !",
                                    value: true,
                                    visible: true,
                                    className: 'btn btn bg-purple waves-effect waves-light',
                                    closeModal: true
                                },
                            },
                        });
                    }
                });
            }
        });
    });


    $(document).ready(function (e) {

        $('#save_data').click(function () {
            var specification = $('.specification');
            var rows = specification.length;
            if (rows == 0) {
                $('#quantity').removeAttr('disabled').css('background-color', 'unset').css('cursor', 'unset');
            }
            var loader = $('#loader-modal');
            loader.fadeIn(200);
            $(this).addClass('has-spinner-link loading');
            $('.help-block').remove();
            var btn = $(this);
            $('#images-error').hide();
            //   $('#form_data').valid();
            if (!$('#form_data').valid()) {
                //validator.focusInvalid();
                loader.fadeOut(200);
                $(this).removeClass('has-spinner-link loading');
                return false;
            }
            $('#images-error').remove();
            if ($('input[name="product_images"]').val() == '[]') {
                $('#sample-img').parent().append('<div style="margin: 0px 0px 10px;" id="images-error" class="abs_error help-block has-error">يجب رفع صورة واحدة للمنتج على الاقل</div>');
                loader.fadeOut(200);
                $(this).removeClass('has-spinner-link loading');
                return false;
            }
            //$('#form_data').submit();
            var action_url = $('#form_data').attr('action');
            var extraData = '';
            if ($('#appointment_reservation').is(":checked")) {
                const days = ['Saturday', 'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];
                $.each(days, function (index, value) {
                    extraData += '&days[' + index + '][day]=' + value;
                    extraData += '&days[' + index + '][is_open]=' + ($('.' + value).is(":checked") ? 1 : 0);
                    extraData += '&days[' + index + '][start]=' + $('.' + value + '_start_at').val();
                    extraData += '&days[' + index + '][end]=' + $('.' + value + '_end_at').val();
                });
            }
            $.post(action_url, $('#form_data').serialize() + extraData + "&trade_mark_id=" + $('#trade_mark_id').val() + '&_token=' + 'hRIZpFLu8UJ0iI4JCBwv765Q7thLZOdZqRieuVbk')
                .done(function (response) {

                    if (response.status === 1) {
                        swal({
                            title: response.message,
                            text: response.message,
                            icon: 'success',
                            buttons: {
                                confirm: {
                                    text: "تأكيد !",
                                    value: true,
                                    visible: true,
                                    className: 'btn btn bg-purple waves-effect waves-light',
                                    closeModal: true
                                },
                            },
                            customClass: ' slow-animation',
                            timer: 1000
                        }).then((result) => {
                            if (result) {
                                setTimeout(function () {
                                    window.location.href = 'file:///C:/Users/user/Desktop/www.mapp.sa/mapp.sa/product.html';
                                }, 2000); //will call the function after 2 secs.
                            }
                        });
                        setTimeout(function () {
                            window.location.href = 'file:///C:/Users/user/Desktop/www.mapp.sa/mapp.sa/product.html';
                        }, 2000); //will call the function after 2 secs.
                    } else {
                        loader.fadeOut(200);

                        $(this).removeClass('has-spinner-link loading');
                        swal({
                            title: response.message,
                            text: response.message,
                            icon: 'error',
                            buttons: {
                                confirm: {
                                    text: "تأكيد !",
                                    value: true,
                                    visible: true,
                                    className: 'btn btn bg-purple waves-effect waves-light',
                                    closeModal: true
                                },
                            },
                        });
                    }
                })
                .fail(function (jqXhr, json, errorThrown) {// this are default for ajax errors
                    var errors = jqXhr.responseJSON;
                    loader.fadeOut(200);
                    $('#save_data').removeClass('has-spinner-link loading');
                    //console.log(errors);
                    var errorsHtml = '';
                    $.each(errors['errors'], function (index, value) {

                        if( index == 'attached_text_label_ar' || index == 'attached_text_placeholder_ar' ) {
                            $('#' + index).parent().append('<span class="help-block has-error"> <strong>' + value + '</strong></span>');
                        } else {
                            $('#' + index).parent().parent().append('<span class="help-block has-error"> <strong>' + value + '</strong></span>');
                        }


                    });

                })
                .always(function () {
                    // alert( "finished" );
                });
        });
        $('.values').keydown(function (e) {
            //console.log(e.which);
            if (e.which === 109 || e.which === 189)
                e.preventDefault();
        });
    });
</script>
<script>
    $(document).ready(function () {
        $(document).on('click', '#addTradMark', function () {
            //console.log('test trade');
            $('#image-error').remove();
            myForm = document.getElementById('tradMark');
            var url = "https://mapp.sa/admin/tradeMarks/ajaxstore";
            var formData = new FormData();
            if ($('#imageDone').val() == '') {
                $('#imagea').parent().parent().append('  <div id="image-error" style="display: block;color:red;font-size: 10px" >يجب حفظ الصورة</div>');
                return false;
            } else if ($('#categories_modal').val() == '') {
                swal({
                    icon: 'error',
                    title: 'خطأ',
                    text: 'يجب اختيار تصنيفات تتبع لهذه الماركة',
                    buttons: {
                        confirm: {
                            text: "تأكيد !",
                            value: true,
                            visible: true,
                            className: 'btn btn bg-purple waves-effect waves-light',
                            closeModal: true
                        },
                    },
                    customClass: ' slow-animation',
                    timer: 1000
                });
                return false;
            } else {
                if ($('#tradMark').valid()) {
                    formDataBrand.append('categories[]', $('#categories_modal').val());
                    formDataBrand.append('name_ar', $('#productBrand input[name=brand_name_ar]').val());
                    formDataBrand.append('name_en', $('#productBrand input[name=brand_name_en]').val());
                    //  formData.append('image', $('#productBrand input[type=file]')[0].files[0]);
                    $.ajax({
                        type: "POST",
                        data: formDataBrand,
                        url: url,
                        cache: false,
                        contentType: false,
                        processData: false,
                        headers: {
                            'X-CSRF-TOKEN': "hRIZpFLu8UJ0iI4JCBwv765Q7thLZOdZqRieuVbk"
                        },
                        beforeSend: function () {
                            $(".loader-modal").fadeIn(100);
                            $('#productBrand').modal('hide');
                        },
                        success: function (response) {
                            if (response.status == 1) {
                                tradMarkSelect.html('');
                                tradMarkSelect.empty();
                                tradMarkSelect.append('<option value="">اختر ماركة المنتج</option>');
                                $.each(response.items.tradeMarks, function (i, option) {
                                    //console.log(option)
                                    tradMarkSelect.append('<option value="' + option['id'] + '">' + option['name'] + '</option>');
                                });
                                //   $('.product_specification_Category').empty();
                                $(".dropify-clear").trigger("click");
                                $("#tradMark").trigger("reset");
                                swal({
                                    icon: 'success',
                                    title: "",
                                    text: response.message,
                                    buttons: {
                                        confirm: {
                                            text: "تأكيد !",
                                            value: true,
                                            visible: true,
                                            className: 'btn btn bg-purple waves-effect waves-light',
                                            closeModal: true
                                        },
                                    },
                                    customClass: ' slow-animation',
                                    timer: 1000
                                });
                                $('#productBrand').modal('hide');
                            } else {
                                swal({
                                    icon: 'error',
                                    title: 'خطأ',
                                    text: response.message,
                                    buttons: {
                                        confirm: {
                                            text: "تأكيد !",
                                            value: true,
                                            visible: true,
                                            className: 'btn btn bg-purple waves-effect waves-light',
                                            closeModal: true
                                        },
                                    },
                                    customClass: ' slow-animation',
                                    timer: 1500
                                });
                            }
                        }
                        ,
                    });
                } else {
                    return false;
                }
            }
            $(".loader-modal").fadeOut(100);
        });
        var formDataBrand = new FormData();
        var tradMarkSelect = $('#trade_mark_id');
        var input = document.getElementById('imageFile');
        var image = document.getElementById('imagea');
        var cropperBrand;
        var cropperBrandBoxData = document.querySelector('#imageArea');
        var avatar = $('.dropify-render').find('img');
        $('#imagea').css('opacity', 0);
        input.addEventListener('change', function (e) {
            $('#imagea').css('opacity', 0);
            $('#image-error').remove();
            var files = e.target.files;
            var done = function (url) {
                input.value = '';
                image.src = url;
            };
            var reader;
            var file;
            var url;
            if (files && files.length > 0) {
                file = files[0];
                if (URL) {
                    done(URL.createObjectURL(file));
                } else if (FileReader) {
                    reader = new FileReader();
                    reader.onload = function (e) {
                        done(reader.result);
                    };
                    reader.readAsDataURL(file);
                }
            }
            cropperBrand = new Cropper(image, {
                aspectRatio: 2 / 1,
                ready: function () {
                    cropperBrand.setCropBoxData(cropperBrandBoxData);
                },
            });
            $('.dropify-wrapper').hide();
            $('#imageArea').show();
        });
        $('#cropBrand').click(function (e) {
            $('#imagea').css('opacity', 0);
            var initialAvatarURL;
            var canvas;
            if (cropperBrand) {
                canvas = cropperBrand.getCroppedCanvas({
                    width: 200,
                    height: 200,
                });
                initialAvatarURL = avatar.src;
                $('.dropify-render').empty().append("<img src='" + canvas.toDataURL() + "' />");
                canvas.toBlob(function (blob) {
                    formDataBrand.append('image', blob, 'avatar.jpg');
                    $('#imageDone').val('done');
                    $('.dropify-preview').css('display', 'block');
                });
            }
            cropperBrandBoxData = cropperBrand.getCropBoxData();
            canvasData = cropperBrand.getCanvasData();
            cropperBrand.destroy();
            $('.dropify-wrapper').show();
            $('#imageArea').hide();
        });
        $('#undoBrand').click(function (e) {
            cropperBrandBoxData = cropperBrand.getCropBoxData();
            canvasData = cropperBrand.getCanvasData();
            cropperBrand.destroy();
            //  $('#imagea').src='';
            $('#imagea').css('opacity', 0);
            $('#imageDone').val('');
            $('.dropify-clear').click();
            $('#imageArea').hide();
            $('.dropify-wrapper').show();
        });
    });
</script>
<script>
    var store_accept_digital_content_rules = '0';
    $('#form_data').validate({
        focusInvalid: false,
        invalidHandler: function (form, validator) {
            if (!validator.numberOfInvalids())
                return;
            $('html, body').animate({
                scrollTop: $(validator.errorList[0].element).offset().top - 150
            }, 2000);
        },
        errorElement: "div",
        errorClass: 'abs_error help-block has-error',
        highlight: function (label) {
            var tab_content = $(label).parent().parent();
            //console.log('label=' + label);
            //console.log('tab_content' + tab_content);
            if ($(tab_content).find("fieldset.tab-pane.active:has(div.has-error)").length == 0) {
                $(tab_content).find("fieldset.tab-pane:has(div.has-error)").each(function (index, tab) {
                    var id = $(tab).attr("id");
                    $('a[href="#' + id + '"]').tab('show');
                });
            }
        },
        ignore: ':hidden:not(.summernote),.note-editable.card-block',
        rules: {
            name_ar: {
                required: true,
            },
                        label_ar: {
                maxlength: 20,
            },
                                        quantity: {
                required: true,
                number: true
            },
            price: {
                required: true,
                number: true,
                max: 9999999
            },
            cost_price: {
                number: true,
                max: 9999999
            },
            price_after_discount: {
                required: true,
                number: true,
                max: 9999999
            },
            code: {}
        },
        messages: {
            name_ar: {
                required: 'هذا الحقل مطلوب',
            },
                        label_ar: {
                maxlength: 'الحد الأقصى 20 حرف',
            },
                                        quantity: {
                required: 'هذا الحقل مطلوب',
                number: 'ادخل عدد صحيح'
            },
            price: {
                required: 'هذا الحقل مطلوب',
                number: 'ادخل عدد صحيح',
                max: 'الحد الأقصى هو 9999999',
            },
            cost_price: {
                number: 'ادخل عدد صحيح',
                max: 'الحد الأقصى هو 9999999',
            },
            price_after_discount: {
                required: 'هذا الحقل مطلوب',
                number: 'ادخل عدد صحيح',
                max: 'الحد الأقصى هو 9999999',
            },
            code: {}
        },
        errorPlacement: function (error, element) {
            /*console.log(error);
            console.log(element);*/
            if (element.hasClass("selecta")) {
                error.insertAfter(element.siblings(".select2-container"));
            } else if (element.attr("id") == 'description_ar') {///
                $('a[href="#ardes"]').tab('show');
                error.insertAfter(element.siblings(".note-editor"));
            } else if (element.attr("id") == 'description_en') {///
                $('a[href="#endes"]').tab('show');
                error.insertAfter(element.siblings(".note-editor"));
            } else if (element.attr("id") == "name_ar") {
                $('a[href="#ar"]').tab('show');
                error.insertAfter(element);
            } else if (element.attr("id") == "name_en") {
                $('a[href="#en"]').tab('show');
                error.insertAfter(element);
            } else if (element.hasClass("summernote")) {
                error.insertAfter(element.siblings(".note-editor"));
            } else {
                error.insertAfter(element);
            }
        },
    });//.init();
    jQuery.validator.addMethod("defaultInvalid", function (value, element) {
        return !(element.value == element.defaultValue);
    });
    $(function () {
        $('#tradMark').validate({
            errorElement: 'div', //default input error message container
            errorClass: 'abs_error help-block has-error',
            rules: {
                brand_name_ar: {
                    required: true
                },
                                image: {
                    required: true,
                    maxImageWidth: 200,
                    maxImageHeight: 100
                }
            },
            messages: {
                brand_name_ar: {
                    required: 'هذا الحقل مطلوب',
                },
                                image: {
                    required: 'يجب رفع صورة',
                    maxImageWidth: 'يجب أن يكون عرض الصورة على الاكثر 200 px ',
                    maxImageHeight: 'يجب أن يكون طول الصورة على الاكثر 100 px '
                }
            },
            errorPlacement: function (error, element) {
                //Custom position: first name
                //console.log(error);
                //error.addClass("invalid-feedback");
                if (element.hasClass("dropify")) {
                    error.insertAfter(element.parent(".dropify-wrapper"));
                } else {
                    error.insertAfter(element);
                }
            },
        });
        $.validator.addMethod('maxImageWidth', function (value, element, maxWidth) {
            //console.log($(element).data('imageWidth'));
            return ($(element).data('imageWidth') || 0) <= maxWidth;
        }, function (maxWidth, element) {
            var imageWidth = $(element).data('imageWidth');
            return (imageWidth)
                ? ("يجب أن يكون عرض الصورة على الاكثر " + maxWidth + "px")
                : "يجب اختيار صورة";
        });
        $.validator.addMethod('maxImageHeight', function (value, element, maxHeight) {
            //console.log($(element).data('imageHeight'));
            return ($(element).data('imageHeight') || 0) <= maxHeight;
        }, function (maxHeight, element) {
            var imageHeight = $(element).data('imageHeight');
            return (imageHeight)
                ? ("يجب أن يكون طول الصورة على الاكثر " + maxHeight + "px")
                : "يجب اختيار صورة";
        });
        $('#dgForm').validate({
            errorElement: "div",
            errorClass: 'abs_error help-block has-error',
            rules: {
                'accept_digital_content_rules': {
                    required: true,
                },
            },
            messages: {
                'accept_digital_content_rules': {
                    required: 'يجب الموافقة على الشروط',
                }
            },
            errorPlacement: function (error, element) {
                if (element.hasClass("dgError")) {
                    error.insertAfter(element.siblings("label"));
                } else {
                    error.insertAfter(element);
                }
            },
        });
        $('#dgBtn').click(function (e) {
            if ($('#dgForm').valid()) {
                $.ajaxSetup({
                    headers: {
                        'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                    }
                });
                $.ajax({
                    method: "put",
                    url: $('#dgForm').attr('action'),
                    data: $('#dgForm').serialize(),
                    success: function (data) {
                        //console.log(data);
                        if (data.status === 0) {
                            swal({
                                icon: 'error',
                                title: data.message,
                                timer: 4000,
                                buttons: {
                                    confirm: {
                                        text: "تأكيد !",
                                        value: true,
                                        visible: true,
                                        className: 'btn btn bg-purple waves-effect waves-light',
                                        closeModal: true
                                    },
                                },
                            });
                        } else {
                            swal({
                                icon: 'success',
                                title: data.message,
                                timer: 2000,
                                buttons: {
                                    confirm: {
                                        text: "تأكيد !",
                                        value: true,
                                        visible: true,
                                        className: 'btn btn bg-purple waves-effect waves-light',
                                        closeModal: true
                                    },
                                },
                            });
                            $('#is_digital_content').prop('checked', true);
                            $('#DigitalModal').modal('hide');
                            store_accept_digital_content_rules = '1';
                        }
                    },
                    error: function (data) {
                        swal({
                            icon: 'error',
                            title: 'حدثت خلل أثناء العملية',
                            timer: 4000,
                            buttons: {
                                confirm: {
                                    text: "تأكيد !",
                                    value: true,
                                    visible: true,
                                    className: 'btn btn bg-purple waves-effect waves-light',
                                    closeModal: true
                                },
                            },
                        });
                    }
                });
            }
        });
        var form = $('#form_data');
        var baseurl = 'https://mapp.sa/uploads';
        var summernoteElement = $('.summernote');
        var $submitBtn = $('#tradMark').find('input:button'), $photoInput = $('input[name="image"]'),
            $imgContainer = $('#imgContainer');
    });
    $(document).ready(function (e) {
        $(document).delegate('.switch', 'click', function (e) {
            var element = $(this);
            e.preventDefault();
            if ($(this).is(":checked")) {
                var url = element.data('activate_url');
                var desc = element.data('deactivate_desc');
                var sts = false;
            } else {
                var url = element.data('deactivate_url');
                var desc = element.data('activate_desc');
                var sts = true;
            }
            //console.log(url);
            //console.log(desc);
            swal({
                icon: "warning",
                title: desc,
                cancelButtonColor: '#c54b42',
                confirmButtonClass: 'btn btn-success',
                cancelButtonClass: 'btn btn-gray',
                buttonsStyling: true,
                // cancelTextColor: '#FFFFFF',
                cancelButtonText: 'إلغاء',
                confirmButtonText: "تأكيد !",
                showCancelButton: true,
                buttons: {
                    confirm: {
                        text: "تأكيد !",
                        value: true,
                        visible: true,
                        className: 'btn btn-success',
                        closeModal: true
                    }, cancel: {
                        text: "إلغاء !",
                        value: null,
                        visible: true,
                        className: 'btn btn-danger',
                        closeModal: true,
                    },
                }
            }).then(
                (result) => {
                    if (result) {
                        //console.log(result);
                        if (result) {
                            e.preventDefault();
                            var id = element.data('id');
                            $.ajaxSetup({
                                headers: {
                                    'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                                }
                            });
                            $.ajax({
                                method: "POST",
                                url: url,
                                data: {id: id},
                                success: function (data) {
                                    //console.log('sened');
                                    //console.log(data);
                                    if (data.status === 0) {
                                        swal({
                                            icon: 'error',
                                            title: data.message,
                                            timer: 4000,
                                            buttons: {
                                                confirm: {
                                                    text: "تأكيد !",
                                                    value: true,
                                                    visible: true,
                                                    className: 'btn btn bg-purple waves-effect waves-light',
                                                    closeModal: true
                                                },
                                            },
                                        });
                                    } else {
                                        swal({
                                            icon: 'success',
                                            title: data.message,
                                            timer: 2000,
                                            buttons: {
                                                confirm: {
                                                    text: "تأكيد !",
                                                    value: true,
                                                    visible: true,
                                                    className: 'btn btn bg-purple waves-effect waves-light',
                                                    closeModal: true
                                                },
                                            },
                                        }).then((result) => {
                                            if (result) {
                                                //console.log(sts + 'sts');
                                                if (sts) {
                                                    element.prop("checked", false);
                                                } else {
                                                    element.prop("checked", true);
                                                }
                                            }
                                        });
                                    }
                                },
                                error: function (data) {
                                    swal({
                                        icon: 'error',
                                        title: 'حدثت خلل أثناء العملية',
                                        timer: 4000,
                                        buttons: {
                                            confirm: {
                                                text: "تأكيد !",
                                                value: true,
                                                visible: true,
                                                className: 'btn btn bg-purple waves-effect waves-light',
                                                closeModal: true
                                            },
                                        },
                                    });
                                }
                            });
                        }
                    }
                });
            //e.preventDefault();
        });
    });
</script>
<script>
    $.validator.addMethod('maxImageWidth', function (value, element, maxWidth) {
        //console.log($(element).data('imageWidth'));
        return ($(element).data('imageWidth') || 0) < maxWidth;
    }, function (maxWidth, element) {
        var imageWidth = $(element).data('imageWidth');
        return (imageWidth)
            ? ("يجب أن يكون عرض الصورة على الاكثر " + maxWidth + "px")
            : "يجب اختيار صورة";
    });
    $.validator.addMethod('maxImageHeight', function (value, element, maxHeight) {
        //console.log($(element).data('imageHeight'));
        return ($(element).data('imageHeight') || 0) < maxHeight;
    }, function (maxHeight, element) {
        var imageHeight = $(element).data('imageHeight');
        return (imageHeight)
            ? ("يجب أن يكون طول الصورة على الاكثر " + maxHeight + "px")
            : "يجب اختيار صورة";
    });
    var cats = [
                ];
    $(document).ready(function () {
        $('.dropify').dropify({
            messages: {
                default: "اسحب واسقط الملف هنا"
                , replace: "اسحب واسقط الملف هنا للاستبدال"
                , remove: "حذف"
                , error: "حدث خطأ"
            },
        });
        $(".js-select2").select2({
            closeOnSelect: false
            , placeholder: "اختر التصنيفات"
            , allowHtml: true
            , allowClear: true
            , tags: false // создает новые опции на лету
        });
        /******************/
        $('.js-select2').on('select2:open', function (e) {
            $('#select2-mySelect2-results').on('click', function (event) {
                event.stopPropagation();
                var data = $(event.target).html();
                var selectedOptionGroup = data.toString().trim();
                //console.log(data, selectedOptionGroup);
                var groupchildren = [];
                for (var i = 0; i < cats.length; i++) {
                    if (selectedOptionGroup.toString() === cats[i].text.toString()) {
                        //console.log(selectedOptionGroup.toString() === cats[i].text.toString());
                        for (var j = 0; j < cats[i].children.length; j++) {
                            groupchildren.push(cats[i].children[j].id);
                            if (cats[i].children[j].children) {
                                for (var c = 0; c < cats[i].children[j].children.length; c++) {
                                    groupchildren.push(cats[i].children[j].children[c].id);
                                }
                            }
                        }
                    }
                    for (var d = 0; d < cats[i].children.length; d++) {
                        if (selectedOptionGroup.toString() === cats[i].children[d].text.toString()) {
                            groupchildren.push(cats[i].children[d].id);
                            if (cats[i].children[d].children) {
                                for (var c = 0; c < cats[i].children[d].children.length; c++) {
                                    groupchildren.push(cats[i].children[d].children[c].id);
                                }
                            }
                        }
                    }
                }
                var options = [];
                options = $('#mySelect2').val();
                if (options === null || options === '') {
                    options = [];
                }
                for (var i = 0; i < groupchildren.length; i++) {
                    var count = 0;
                    for (var j = 0; j < options.length; j++) {
                        if (options[j].toString() === groupchildren[i].toString()) {
                            count++;
                            break;
                        }
                    }
                    if (count === 0) {
                        options.push(groupchildren[i].toString());
                    }
                }
                for (var g = 0; g < options.length; g++) {
                    for (var i = 0; i < cats.length; i++) {
                        for (var d = 0; d < cats[i].children.length; d++) {
                            if (options[g].toString() === cats[i].children[d].id.toString()) {
                                if (jQuery.inArray(cats[i].id.toString(), options) === -1) {
                                    options.push(cats[i].id.toString());
                                }
                            }
                            for (var c = 0; c < cats[i].children[d].children.length; c++) {
                                if (options[g].toString() === cats[i].children[d].children[c].id.toString()) {
                                    if (jQuery.inArray(cats[i].id.toString(), options) === -1) {
                                        options.push(cats[i].id.toString());
                                    }
                                    if (jQuery.inArray(cats[i].children[d].id.toString(), options) === -1) {
                                        options.push(cats[i].children[d].id.toString());
                                    }
                                }
                            }
                        }
                    }
                }
                //console.log(options, groupchildren);
                $('#mySelect2').val(options);
                $('#mySelect2').trigger('change'); // Notify any JS components that the value changed
                // $('#mySelect2').select2('close');
                // $('#mySelect2').select2('open');
            });
        });
        /************************/
        $(".js-select2").on("select2:select", function (e) {
            e.stopPropagation();
            var categories_element = $(this);
            var trade_mark = $('#trade_mark_id');
            var categories = categories_element.val();
            $(document).trigger("custom_change", [categories_element, trade_mark, categories]);
        });
        $(".js-select2").on("select2:unselect", function (e) {
            e.stopPropagation();
            var categories_element = $(this);
            var trade_mark = $('#trade_mark_id');
            var categories = categories_element.val();
            $(document).trigger("custom_change", [categories_element, trade_mark, categories]);
        });
        $(document).on("custom_change", function (event, categories_element, trade_mark, categories) {
            $('#categories_modal').val(categories);
            $.ajax({
                url: "https://mapp.sa/admin/tradeMarks",
                type: 'post',
                data: {'categories': categories, '_token': "hRIZpFLu8UJ0iI4JCBwv765Q7thLZOdZqRieuVbk"},
                success: function (response) {
                    trade_mark.html('');
                    trade_mark.empty();
                    if (response.length > 0) {
                        trade_mark.append('<option value="">اختر ماركة المنتج</option>');
                        $.each(response, function (i, option) {
                            trade_mark.append('<option value="' + option["id"] + '">' + option["name"] + '</option>');
                        });
                    } else {
                        trade_mark.append('<option value="">اختر ماركة المنتج</option>');
                    }
                },
                error: function (response) {
                }
            });
        });
    });
    $(document).ready(function () {
        /*********/
        var max_fields = 150;
        var wrapperCat = $(".product_specification_Category");
        var add_buttonCat = $(".add_form_field_Category");
        var wrapperSub = $(".product_specification_Category .spec-item .spec-item_sub");
        var add_buttons = $(".add_form_field_Category_Sub");
        var x = 0;
        var y = 0;
        $(add_buttonCat).click(function (e) {
            e.preventDefault();
            if (x < max_fields) {
                x++;
                let html = ' <div class="spec-item mb-2" id="item-' + x + '">' +
                    ' <div class="row">';
                                    html += ' <div class="col-md-8"> <div class="input-group"> <input name="categories[' + x + '][id]" value="0" type="hidden" > <input name="categories[' + x + '][name]" type="text" class="form-control" placeholder="التصنيف الرئيسي" aria-describedby="basic-addon1"> </div> </div>';
                                    html +=
                    ' <div class="col-md-1 col-2"> <a href="javascript:void(0)" class="delete btn-danger deBtn" ><i class="fi-rr-trash"></i></a> </div>' +
                    ' <div class="col-md-2 col-2 p-0">\n' +
                    '<div class="show_check_box" style="margin-right:0 !important;">\n' +
                    ' <label class="switchy switchy-sm">\n' +
                    '  <input name="categories[' + x + '][is_shown_in_app_home]" checked="" type="checkbox" class="custom-control-input" id="customSwitch_show">\n' +
                    '  <span draggable="true" for="customSwitch_show" style="font-size: 12px;"></span>\n' +
                    'إظهار التصنيف\n' +
                    '  </label>\n' +
                    '  </div>\n' +
                    '  </div>' +
                    ' </div> ' +
                    '<div class="spec-item_sub" data-parent="' + x + '" data-nums="' + x + '"> </div>' +
                    ' <button class="add_form_field_Category_Sub btn btn-primary waves-effect waves-light mt-2"><span>+ </span> اضافة فرعي </button> </div>';
                $(wrapperCat).append(html); //add input box
            }
        });
        $(wrapperCat).on("click", ".delete", function (e) {
            e.preventDefault();
            $(this).parent().parent().parent().remove();
            x--;
        });
        $(wrapperCat).on("click", '.add_form_field_Category_Sub', function (e) {
            e.preventDefault();
            if (y < max_fields) {
                let html = '';
                y++;
                var index = $(this).parent().children('.spec-item_sub').first('.spec-item_sub').data('parent');
                var nums = $(this).parent().children('.spec-item_sub').first('.spec-item_sub').data('nums');
                // console.log(index);
                html += ' <div class="row mt-2 mx-1 w-100" id="item-' + index + '_' + nums + 1 + '"> ';
                                    html += '<div class="col-md-8"> <div class="input-group"> <div class="input-group-prepend">  </div> <input type="hidden" name="categories[' + index + '][subs][' + (nums + 1) + '][id]" value="0" /><input type="text" name="categories[' + index + '][subs][' + (nums + 1) + '][name]" class="form-control" required placeholder="التصنيف الفرعي" aria-describedby="basic-addon1"> </div> </div> ';
                                    html += '<div class="col-md-1"> <a href="javascript:void(0)" class="deleteSub btn-danger deBtn"><i class="fi-rr-trash"></i></a> </div> ' +
                    '</div>';
                html += '<div class="spec-item_sub" id="sub_item-' + index + '_' + nums + 1 + '" data-parent_parent="' + index + '" data-parent="' + parseInt(parseInt(nums) + 1) + '" data-nums="' + 0 + '"> ' +
                    ' <button class="add_form_field_Category_Sub_Sub btn btn-primary waves-effect waves-light mt-2 mb-2 mx-4"><span>+ </span> إضافة فرعي للفرعي </button> </div>';
                $(this).parent('.spec-item').children('.spec-item_sub').first('.spec-item_sub').append(html); //add input box
                $(this).parent('.spec-item').children('.spec-item_sub').first('.spec-item_sub').data('nums', nums + 1);
            }
        });
        $(wrapperCat).on("click", '.add_form_field_Category_Sub_Sub', function (e) {
            e.preventDefault();
            if (y < max_fields) {
                let html = '';
                y++;
                var parent_index = $(this).parent().data('parent_parent');
                var index = $(this).parent().data('parent');
                var nums = $(this).parent().data('nums');
                // console.log(index);
                html += ' <div class="row mt-1 mx-3 w-100" id="item-' + parent_index + '_' + nums + 1 + '"> ';
                                    html += '<div class="col-md-8"> <div class="input-group"> <div class="input-group-prepend">  </div> <input type="hidden" name="categories[' + parent_index + '][subs][' + (index) + '][subs][' + (nums + 1) + '][id]" value="0" /><input type="text" name="categories[' + parent_index + '][subs][' + (index) + '][subs][' + (nums + 1) + '][name]" class="form-control" required placeholder="التصنيف الفرعي" aria-describedby="basic-addon1"> </div> </div> ';
                                    html += '<div class="col-md-1"> <a href="javascript:void(0)" class="deleteSubSub btn-danger deBtn"><i class="fi-rr-trash"></i></a> </div> ' +
                    '</div>';
                $(html).insertBefore(this);
                // $(this).parent().before().append(html); //add input box
                $(this).parent().data('nums', nums + 1);
                //console.log(parent_index, index, nums, html);
            }
        });
        $(wrapperCat).on("click", ".deleteSub", function (e) {
            e.preventDefault();
            $("#sub_" + $(this).parent().parent().attr('id')).remove();
            $(this).parent().parent().remove();
            y--;
        });
        $(wrapperCat).on("click", ".deleteSubSub", function (e) {
            e.preventDefault();
            $(this).parent().parent().remove();
        });
        var categorySelect = $('#mySelect2');
        $('#SaveCats').click(function () {
            $('#add_cats').validate();
            $.ajax({
                type: "POST",
                data: $('#add_cats').serialize(),
                url: $(this).data('href'),
                headers: {
                    'X-CSRF-TOKEN': "hRIZpFLu8UJ0iI4JCBwv765Q7thLZOdZqRieuVbk"
                },
                success: function (response) {
                    if (response.status == 1) {
                        categorySelect.empty();
                        $.each(response.items.categories, function (i, option) {
                            // console.log(option)
                            if (option.sub_categories.length > 0) {
                                categorySelect.append('<optgroup label="mCategory"><option disabled value="' + option['id'] + '">' + option['name'] + '</option></optgroup>');
                            } else {
                                categorySelect.append('<optgroup label="mCategory"><option value="' + option['id'] + '">' + option['name'] + '</option></optgroup>');
                            }
                            $.each(option.sub_categories, function (d, option) {
                                if (option.sub_categories.length > 0) {
                                    categorySelect.append('<optgroup label="sCategory"><option  value="' + option['id'] + '">' + option['name'] + '</option></optgroup>');
                                } else {
                                    categorySelect.append('<optgroup label="sCategory"><option value="' + option['id'] + '">' + option['name'] + '</option></optgroup>');
                                }
                                var parentName = option['name'];
                                $.each(option.sub_categories, function (c, option) {
                                    categorySelect.append('<optgroup label="ssCategory"><option class="subSubCategory" value="' + option['id'] + '">' + option['name'] + '</option></optgroup>');
                                });
                            });
                        });
                        cats = [];
                        $.each(response.items.categories, function (i, option) {
                            cats[i] = {'id': option['id'], 'text': option['name']};
                            if (option.sub_categories.length > 0) {
                                cats[i]['children'] = [];
                                $.each(option.sub_categories, function (j, subOption) {
                                    cats[i]['children'][j] = {'id': subOption['id'], 'text': subOption['name']};
                                    if (subOption.sub_categories.length > 0) {
                                        cats[i]['children'][j]['children'] = [];
                                        $.each(subOption.sub_categories, function (s, subSubOption) {
                                            cats[i]['children'][j]['children'][s] = {
                                                'id': subSubOption['id'],
                                                'text': subSubOption['name'] + ' - ' + subOption['name']
                                            };
                                        });
                                    } else {
                                        cats[i]['children'][j]['children'] = [];
                                    }
                                });
                            } else {
                                cats[i]['children'] = [];
                            }
                        });
                        swal({
                            icon: 'success',
                            title: "",
                            text: response.message,
                            buttons: {
                                confirm: {
                                    text: "تأكيد !",
                                    value: true,
                                    visible: true,
                                    className: 'btn btn bg-purple waves-effect waves-light',
                                    closeModal: true
                                },
                            },
                            customClass: ' slow-animation',
                            timer: 1000
                        });
                        $('#productCategory').modal('hide');
                        $('.product_specification_Category').empty().append(response.items.html);
                    } else {
                        //console.log(response.message);
                        swal({
                            icon: 'error',
                            title: 'خطأ',
                            text: response.message,
                            buttons: {
                                confirm: {
                                    text: "تأكيد !",
                                    value: true,
                                    visible: true,
                                    className: 'btn btn bg-purple waves-effect waves-light',
                                    closeModal: true
                                },
                            },
                        });
                    }
                }
                ,
            });
        });
        categorySelect.select2({
            placeholder: 'اختر التصنيفات',
            closeOnSelect: false,
            language: {
                noResults: function () {
                    return 'لا توجد تصنيفات';
                },
            }
        });
        $("#jsSelect3").select2({
            placeholder: 'اختر الماركة',
            language: {
                noResults: function () {
                    return 'لا توجد ماركات';
                },
            }
        });
    });
</script>
<script>
    $(document).ready(function () {
        var uploaded_files = [];
        ///////////////////////////////
        var max_fields = 150;
        var wrapper = $(".product_specification");
        var wrapper2 = $("#ProductmoreOptions .modal-body > .row");
        var add_button = $(".add_form_field");
        var add_buttonF = $('.add_form_new_Option');
        var addBrandBtn = $('.add_form_field_brand');
        var wrapperBrand = $(".product_specification_brand");
        var x = 1;
                function saveSpecification() {
            cleanSpecification();
            var checkResult = checkSpecification();
            //console.log(checkResult);
            if (checkResult !== false) {
                var values_ref = checkResult.values_ref;
                var values = checkResult.values;
                var quantities = checkResult.quantities;
                var prices_values = checkResult.prices;
                var titles = checkResult.titles;
                var options_ref = [];
                var options = [];
                var options_prices = [];
                var options_quantities = [];
                var control = 1;
                var i = 0;
                var x = 0;
                var loops = values.length;
                //get first element to multiply it with each arrays
                var first_arr = values[0];
                if (loops > 1) {
                    for (i; i < values.length; i++) {
                        if (i === 0) {
                            result = values[i];
                            result_ref = values_ref[i];
                            result_prices = prices_values[i];
                        }
                        var cc = loops - 2;
                        for (x; x <= cc; x++) {
                            if (i + control < loops) {
                                result_ref = multiply(result_ref, values_ref[i + control]);
                                result = multiply(result, values[i + control]);
                                result_prices = additionPrices(result_prices, prices_values[i + control]);
                                control++;
                            }
                        }
                    }
                    options_ref = result_ref;
                    options = result;
                    options_prices = result_prices;
                } else {
                    for (i; i < values.length; i++) {
                        for (x; x < values[i].length; x++) {
                            options_ref.push(values_ref[i][x]);
                            options.push(values[i][x]);
                            options_prices.push(prices_values[i][x]);
                        }
                    }
                }
                /////console.log(options);
                var html = '<p style="color: red;max-width: 600px;' +
                    '    "> </p>';
                var title_inputs = '';
                var values_inputs = '';
                let unlimited_quantity_disabled = $('#customSwitch11-quantity').prop('checked') === true ? 'disabled style="background-color:#F5F7F9"' : 'style="background-color:inherit"';
                let unlimited_quantity_placeholder = $('#customSwitch11-quantity').prop('checked') === true ? 'غير محدودة' : 'الكمية"';
                for (var j = 0; j < options.length; j++) {
                                            html = html + '<div class="variant_row row mb-2">' +
                        '                                    <div class="col-md-4">' +
                        '                                        <div class="input-group">' +
                        '                                            <div class="input-group-prepend"> <span class="input-group-text" id="basic-addon1">' +
                        '                                                    <i class="fe-type"></i></span> </div>' +
                        '                                            <input name="variants[' + j + '][ref]"  type="hidden" value="' + options_ref[j] + '" class="form-control "aria-describedby="basic-addon1">' +
                        '                                            <input name="variants[' + j + '][name]"  type="hidden" value="' + options[j] + '" class="form-control "aria-describedby="basic-addon1">' +
                        '                                            <input name="variants[' + j + '][name]" disabled type="text" value="' + options[j] + '" class="form-control "aria-describedby="basic-addon1">' +
                        '                                        </div>' +
                        '                                    </div>' +
                        '                                    <div class="col-md-2">' +
                        '                                        <div class="input-group">' +
                        '                                            <div class="input-group-prepend"> <span class="input-group-text" id="basic-addon1">' +
                        '                                                    <i class="mdi  mdi mdi-credit-card"></i></span> </div>' +
                        '                                            <input type="text" disabled data-class="variants_' + j + '_price"  value="' + options_prices[j] + '" class="form-control variants_' + j + '_price" placeholder="price" aria-describedby="basic-addon1">' +
                        '                                        </div>' +
                        '                                    </div>' +
                        '                                    <div class="col-md-3">' +
                        '                                        <div class="input-group">' +
                        '                                            <div class="input-group-prepend"> <span class="input-group-text" id="basic-addon1">' +
                        '                                                    <i class="fe-box"></i></span> </div>' +
                        '                                            <input type="hidden" name="variants[' + j + '][quantity]" >' +
                        '                                            <input type="text" ' + unlimited_quantity_disabled + ' name="variants[' + j + '][quantity]" data-class="variants_' + j + '_quantity"   onkeypress="isInputNumber(event,this.value)" class="variants_input form-control variants_' + j + '_quantity" placeholder="' + unlimited_quantity_placeholder + '" aria-describedby="basic-addon1">' +
                        '                                        </div>' +
                        '                                    </div>' +
                        '                                    <div  style="display:none"  class="col-md-1">' +
                        '                                        <a href="javascript:void(0)" class="btn btn-primary waves-effect waves-light" data-toggle="modal" data-target="#quantitiesBell"><i class="fi-rr-bell"></i></a>' +
                        '                                    </div>' +
                        '                                    <div class="col-md-1">' +
                        '                                        <a href="javascript:void(0)" id="' + j + '" class="deleteOption btn-danger deleteOption_' + j + '"><i class="fi-rr-trash"></i></a>' +
                        '                                    </div>' +
                        '                                </div>';
                                    }
                for (var k = 0; k < titles.length; k++) {
                }
                $('.form_specifications_q').empty().append(title_inputs).append(values_inputs).append(html);
            }
        }

        function saveAfterDeleteSpecification() {
            cleanSpecification();
            var checkResult = checkSpecification2();
            //console.log(checkResult);
            if (checkResult !== false) {
                var values_ref = checkResult.values_ref;
                var values = checkResult.values;
                var quantities = checkResult.quantities;
                var prices = checkResult.prices;
                var titles = checkResult.titles;
                var options_ref = [];
                var options = [];
                var options_prices = [];
                var options_quantities = [];
                var control = 1;
                var i = 0;
                var x = 0;
                var loops = values.length;
                //get first element to multiply it with each arrays
                var first_arr = values[0];
                if (loops > 1) {
                    for (i; i < values.length; i++) {
                        if (i === 0) {
                            result_ref = values_ref[i];
                            result = values[i];
                        }
                        var cc = loops - 2;//values[i].length+1;
                        for (x; x <= cc; x++) {
                            if (i + control < loops) {
                                result = multiply(result, values[i + control]);
                                result_ref = multiply(result_ref, values[i + control]);
                                control++;
                            }
                        }
                    }
                    options = result;
                    options_ref = result_ref;
                } else {
                    for (i; i < values.length; i++) {
                        for (x; x < values[i].length; x++) {
                            options.push(values[i][x]);
                            options_ref.push(values_ref[i][x]);
                        }
                    }
                }
                ///console.log(options);
                var html = '<p style="color: red;text-align: center;max-width: 600px;' +
                    '    margin: 0 auto 2.7rem;"> يجب تعبئة جميع كميات الخيارت بما يتناسب مع كميه المنتج الكلية</p>';
                var title_inputs = '';
                var values_inputs = '';
                let unlimited_quantity_disabled = $('#customSwitch11-quantity').prop('checked') === true ? 'disabled style="background-color:#F5F7F9"' : 'style="background-color:inherit"';
                let unlimited_quantity_placeholder = $('#customSwitch11-quantity').prop('checked') === true ? 'غير محدودة' : 'الكمية"';
                for (var j = 0; j < options.length; j++) {
                    html = html + '<div class="variant_row row mb-2">' +
                        '                                    <div class="col-md-4">' +
                        '                                        <div class="input-group">' +
                        '                                            <div class="input-group-prepend"> <span class="input-group-text" id="basic-addon1">' +
                        '                                                    <i class="fe-type"></i></span> </div>' +
                        '                                            <input name="variants[' + j + '][ref]"  type="hidden" value="' + options_ref[j] + '" class="form-control "aria-describedby="basic-addon1">' +
                        '                                            <input name="variants[' + j + '][name]"  type="hidden" value="' + options[j] + '" class="form-control "aria-describedby="basic-addon1">' +
                        '                                            <input name="variants[' + j + '][name]" disabled type="text" value="' + options[j] + '" class="form-control "aria-describedby="basic-addon1">' +
                        '                                        </div>' +
                        '                                    </div>' +
                        '                                    <div class="col-md-3">' +
                        '                                        <div class="input-group">' +
                        '                                            <div class="input-group-prepend"> <span class="input-group-text" id="basic-addon1">' +
                        '                                                    <i class="fe-box"></i></span> </div>' +
                        '                                            <input type="hidden" name="variants[' + j + '][quantity]" >' +
                        '                                            <input ' + unlimited_quantity_disabled + ' type="text" onkeypress="isInputNumber(event,this.value)" name="variants[' + j + '][quantity]" data-class="variants_' + j + '_quantity"  class="variants_input form-control variants_' + j + '_quantity" placeholder="' + unlimited_quantity_placeholder + '" aria-describedby="basic-addon1">' +
                        '                                        </div>' +
                        '                                    </div>' +
                        '                                    <div class="col-md-1">' +
                        '                                        <a href="javascript:void(0)" id="' + j + '" class="deleteOption btn-danger deleteOption_' + j + '"><i class="fi-rr-trash"></i></a>' +
                        '                                    </div>' +
                        '                                </div>';
                }
                for (var k = 0; k < titles.length; k++) {
                }
                $('.form_specifications_q').empty().append(title_inputs).append(values_inputs).append(html);
            }
        }

        function checkSpecification() {
            var specification = $('.specification');
            var rows = specification.length;
            var values = [];
            var values_ref = [];
            var prices_values = [];
            var titles = [];
            var goAhead = false;
            var preventMessage = 'تأكد من صحة جميع المدخلات';
            if (rows > 0) {
                goAhead = true;
                var item, item_title, sub_item;
                var result = 1;
                var result_prices = 1;
                var have_title = true;
                var have_items_title = true;
                var title_items = [];
                var title_items_ref = [];
                var prices_items = [];
                specification.each(function (i) {
                    //var have_title=false;
                    title_items_ref = [];
                    title_items = [];
                    prices_items = [];
                    item = $(this);
                    item.find('.titles').each(function (i) {
                        item_title = $(this);
                        var title = item_title.find('.title').val();
                        if (title !== '') {
                            have_title = have_title && true;
                            titles.push(title);
                        } else {
                            have_title = have_title && false;
                        }
                    });
                    item.find('.title_values').each(function (i) {
                        sub_item = $(this);
                        var item_values = sub_item.find('.values').val();
                        var item_values_ref = sub_item.find('.values_ref').val();
                        var item_prices = sub_item.find('.prices').val();
                        var item_quantities = sub_item.find('.quantities').val();
                        if (item_values !== '') {
                            have_items_title = have_items_title && true;
                            title_items_ref.push(item_values_ref);
                            title_items.push(item_values);
                            prices_items.push(item_prices === '' ? 0 : item_prices);
                        } else {
                            have_items_title = have_items_title && false;
                        }
                    });
                    //console.log(titles.length + 'sss' + values.length);
                    //console.log(title_items.length + 'sss' + prices_items.length);
                    //console.log('have_title' + have_title);
                    //console.log('have_items_title' + have_items_title);
                    if (have_title === true) {
                        if ((have_items_title === false)) {
                            // swal({
                            //     icon:'error',
                            //     title:'يجب اضافة قيم لجميع الخيارات أولاً'
                            // });
                            cleanSpecification();
                            //return false;
                            goAhead = false;
                            preventMessage = 'يجب اضافة قيم لجميع الخيارات أولاً';
                        } else {
                            if (titles.length === 0 || title_items.length === 0) {
                                // swal({
                                //     icon:'error',
                                //     title:'يجب اضافة قيم لجميع الخيارات أولاً'
                                // });
                                cleanSpecification();
                                // return false;
                                goAhead = false;
                                preventMessage = 'يجب اضافة قيم لجميع الخيارات أولاً';
                            } else {
                                title_items_ref.length ? values_ref.push(title_items_ref) : '';
                                title_items.length ? values.push(title_items) : '';
                                title_items.length ? prices_values.push(prices_items) : '';
                                result = result * title_items.length;
                            }
                        }
                    } else {
                        cleanSpecification();
                        goAhead = false;
                        preventMessage = 'يجب اضافة جميع الخيارات أولاً';
                    }
                });
                // console.log(values);
                if (goAhead === false) {
                    swal({
                        icon: 'error',
                        text: preventMessage,
                        buttons: {
                            confirm: {
                                text: "تأكيد !",
                                value: true,
                                visible: true,
                                className: 'btn btn bg-purple waves-effect waves-light',
                                closeModal: true
                            },
                        },
                        timer: 1000
                    });
                    cleanSpecification();
                    return false;
                } else {
                    //console.log(values);
                    return {'titles': titles, 'values_ref': values_ref, 'values': values, 'prices': prices_values};
                }
            } else {
                swal({
                    icon: 'error',
                    text: 'يجب اضافة الخيارات أولاً',
                    buttons: {
                        confirm: {
                            text: "تأكيد !",
                            value: true,
                            visible: true,
                            className: 'btn btn bg-purple waves-effect waves-light',
                            closeModal: true
                        },
                    },
                    customClass: ' slow-animation',
                    timer: 1000
                });
                cleanSpecification();
                return false;
            }
        }

        function checkSpecification2() {
            var specification = $('.specification');
            var rows = specification.length;
            var values_ref = [];
            var values = [];
            var prices = [];
            var titles = [];
            var goAhead = false;
            var preventMessage = 'تأكد من صحة جميع المدخلات';
            if (rows > 0) {
                goAhead = true;
                var item, item_title, sub_item;
                var result = 1;
                var have_title = true;
                var have_items_title = true;
                var title_items = [];
                var title_items_ref = [];
                var prices_items = [];
                specification.each(function (i) {
                    //var have_title=false;
                    title_items_ref = [];
                    title_items = [];
                    prices_items = [];
                    item = $(this);
                    item.find('.titles').each(function (i) {
                        item_title = $(this);
                        var title = item_title.find('.title').val();
                        if (title !== '') {
                            have_title = have_title && true;
                            titles.push(title);
                        }
                    });
                    item.find('.title_values').each(function (i) {
                        sub_item = $(this);
                        var item_values = sub_item.find('.values').val();
                        var item_values_ref = sub_item.find('.values_ref').val();
                        var item_prices = sub_item.find('.prices').val();
                        var item_quantities = sub_item.find('.quantities').val();
                        if (item_values !== '') {
                            have_items_title = have_items_title && true;
                            title_items_ref.push(item_values_ref);
                            title_items.push(item_values);
                            prices_items.push(item_prices === '' ? 0 : item_prices);
                        }
                    });
                    //console.log(titles.length + 'sss' + values.length);
                    //console.log(title_items.length + 'sss' + prices_items.length);
                    //console.log('have_title' + have_title);
                    //console.log('have_items_title' + have_items_title);
                    if (have_title === true) {
                        if ((have_items_title === false)) {
                            // swal({
                            //     icon:'error',
                            //     title:'يجب اضافة قيم لجميع الخيارات أولاً'
                            // });
                            cleanSpecification();
                            //return false;
                            goAhead = false;
                            preventMessage = 'يجب اضافة قيم لجميع الخيارات أولاً';
                        } else {
                            if (titles.length === 0 || title_items.length === 0) {
                                cleanSpecification();
                                goAhead = false;
                                preventMessage = 'يجب اضافة قيم لجميع الخيارات أولاً';
                            } else {
                                title_items.length ? values_ref.push(title_items_ref) : '';
                                title_items.length ? values.push(title_items) : '';
                                title_items.length ? prices.push(prices_items) : '';
                                result = result * title_items.length;
                            }
                        }
                    } else {
                        cleanSpecification();
                        goAhead = false;
                        preventMessage = 'يجب اضافة جميع الخيارات أولاً';
                    }
                });
                if (goAhead === false) {
                    cleanSpecification();
                    return false;
                } else {
                    //console.log(values);
                    return {'titles': titles, 'values': values, 'values_ref': values_ref, 'prices': prices};
                }
            } else {
                cleanSpecification();
                return false;
            }
        }

        function cleanSpecification() {
            $('.form_specifications_q').empty();
            $('.varients_q').empty();
            $('.varients').empty();
        }

                $('.close_options').click(function (e) {
            $('.varients').empty();
            $('.varients_q').empty();
            $(document).find("#form_specifications").clone().appendTo(".varients");
            $(document).find(".form_specifications_q").clone().appendTo(".varients_q");
            var specification = $('.specification');
            var variants = $('#ProductmoreOptions .variant_row');
            var variants_rows = variants.length;
            var rows = specification.length;
            if (rows == 0) {
                swal({
                    icon: 'warning',
                    title: 'انتبه',
                    text: 'لم تقم باضافة اي خصائص اضافية للمنتج',
                    buttons: {
                        confirm: {
                            text: "تأكيد !",
                            value: true,
                            visible: true,
                            className: 'btn btn bg-purple waves-effect waves-light',
                            closeModal: true
                        },
                    },
                    timer: 2000,
                    showClass: {
                        popup: '',
                    },
                    hideClass: {
                        popup: '',
                    },
                });
            } else if (variants_rows == 0) {
                swal({
                    icon: 'warning',
                    title: 'انتبه',
                    text: 'لم تقم بتوليد مجموعة الخيارات لتحديد كمياتها',
                    showConfirmButton: true,
                    buttons: {
                        confirm: {
                            text: "تأكيد !",
                            value: true,
                            visible: true,
                            className: 'btn btn bg-purple waves-effect waves-light',
                            closeModal: true
                        },
                    },
                    timer: 2000,
                    showClass: {
                        popup: '',
                    },
                    hideClass: {
                        popup: '',
                    },
                });
            } else {
                var total_quantity = 0;
                variants.each(function (i) {
                    let quantity_input = $(this).find('.variants_input');
                    let qnt = quantity_input.val() || 0;
                    total_quantity = parseFloat(total_quantity) + parseFloat(qnt);
                });
                if ($('#customSwitch11-quantity').prop('checked') === true) {
                    $('#quantity').val(null);
                } else {
                    $('#quantity').val(total_quantity);
                }
                $('#quantity').attr('disabled', 'disabled').css('background-color', '#efeeee').css('cursor', 'not-allowed');
                if (total_quantity < 0 && $('#customSwitch11-quantity').prop('checked') === false) {
                    swal({
                        //   toast: true,
                        icon: 'error',
                        text: 'ادخل جميع الكميات اولاً',
                        buttons: {
                            confirm: {
                                text: "تأكيد !",
                                value: true,
                                visible: true,
                                className: 'btn btn bg-purple waves-effect waves-light',
                                closeModal: true
                            },
                        },
                        //customClass: ' slow-animation',
                        timer: 2000,
                        showClass: {
                            popup: '',
                        },
                        hideClass: {
                            popup: '',
                        },
                    });
                } else {
                    $('#ProductmoreOptions').modal('hide');
                    swal({
                        icon: 'success',
                        title: 'تم اعتماد الخيارات بنجاح',
                        text: 'بامكانك الآن اكمال عمليه ادخال البيانات لاضافة منتج وحفظها',
                        buttons: {
                            confirm: {
                                text: "تأكيد !",
                                value: true,
                                visible: true,
                                className: 'btn btn bg-purple waves-effect waves-light',
                                closeModal: true
                            },
                        },
                        customClass: ' slow-animation',
                        timer: 1000
                    });
                }
            }
        });
        $('.add_form_field_options').click(function (e) {
            e.preventDefault();
            saveSpecification();
            $('.varients').empty();
            $('.varients_q').empty();
            $(document).find("#form_specifications").clone().appendTo(".varients");
            $(document).find(".form_specifications_q").clone().appendTo(".varients_q");
        });
        $(wrapper2).on("click", '.add_form_field', function (e) {
            e.preventDefault();
            var product_specification = $(this).parent().parent().parent();//.find('.product_specification');
            var index = product_specification.data('id');
            var content_index = parseInt(product_specification.find('.title_values:last').find('input:first').data('counter')) + 1;//.length;
            //console.log(content_index, product_specification, product_specification.find('.title_values:last').find('input:first').data('counter'));
            var content_ref = parseInt(product_specification.find('.title_values:last').find('input:first').val()) + 1;
            if (x < max_fields) {
                x++;
                                product_specification.append('<div class="row spec-item title_values mb-2">' +
                    '<input type="hidden" value="' + content_ref + '" class="values_ref" data-counter="' + content_index + '" name="options[' + index + '][content][content_details][' + content_index + '][content_ref]">' +
                    '                                    <div class="col-md-4 col-6">' +
                    '                                        <div class="input-group">' +
                    '                                            <div class="input-group-prepend"> <span class="input-group-text" id="basic-addon1">' +
                    '                                                    <i class="fe-type"></i></span> </div>' +
                    '                                            <input type="text" name="options[' + index + '][content][content_details][' + content_index + '][content_name]" class="form-control values" placeholder=" الخيار " aria-describedby="basic-addon1">' +
                    '                                        </div>' +
                    '                                    </div>' +
                    '                                                            <div class="col-md-4 col-6">' +
                    '                                        <div class="input-group">' +
                    '                                            <div class="input-group-prepend">' +
                    '                                                <span class="input-group-text" id="basic-addon1">' +
                    '                                                    <i class=" mdi  mdi mdi-credit-card"></i>' +
                    '                                                </span>' +
                    '                                            </div>' +
                    '                                            <input type="text" name="options[' + index + '][content][content_details][' + content_index + '][additional_price]" class="form-control prices" placeholder=" السعر الاضافي" onkeypress="isInputDouble(event,this.value)" aria-describedby="basic-addon1">' +
                    '                                        </div>' +
                    '                                    </div>' +
                    '                                    <div class="col-md-1">' +
                    '                                        <a href="javascript:void(0)" class="delete btn-danger deBtn" ><i class="fi-rr-trash"></i></a>' +
                    '                                    </div>' +
                    '                                </div>'); //add input box
                            }
        });
        $(add_buttonF).click(function (e) {
            var index = $("#form_specifications").find('.product_specification').length + 1;
            var title_ref = index * 100;
            var content_ref = title_ref + 1;
            e.preventDefault();
            if (x < max_fields) {
                x++;
                                $(wrapper2).append('<hr> <div class="from-group col-md-12 specification mt-2"> <div class="product_specification" data-id="' + index + '"> <div class="row spec-item titles mb-2"> <input type="hidden" value="' + title_ref + '" name="options[' + index + '][content][title_ref]"><div class="col-md-10"> <div class="input-group"> <div class="input-group-prepend"> <span class="input-group-text" id="basic-addon1"> <i class="fe-type"></i></span> </div> <input type="text" class="form-control title" name="options[' + index + '][content][title]" placeholder=" اسم الخيار ( اللون ، الحجم )" aria-describedby="basic-addon1"> </div> </div> <div class="col-md-1 col-2"> <a href="javascript:void(0)" class="deleteFull btn-danger deBtn" ><i class="fi-rr-trash"></i></a> </div><div class="col-md-1 col-2 p-0"><button class="add_form_field btn btn-primary waves-effect waves-light"><span>+ </span> </button></div> </div> <div class="row spec-item title_values mb-2"><input type="hidden" class="values_ref" data-counter="1"  value="' + content_ref + '" name="options[' + index + '][content][content_details][0][content_ref]"> <div class="col-md-4 col-6"> <div class="input-group"> <div class="input-group-prepend"> <span class="input-group-text" id="basic-addon1"> <i class="fe-type"></i></span> </div> <input type="text" class="form-control values" name="options[' + index + '][content][content_details][0][content_name]" placeholder=" الخيار " aria-describedby="basic-addon1"> </div> </div>   <div class="col-md-4 col-6"> <div class="input-group"> <div class="input-group-prepend"> <span class="input-group-text" id="basic-addon1"> <i class="mdi  mdi mdi-credit-card"></i></span> </div> <input type="text" class="form-control  <!--values--> prices"  name="options[' + index + '][content][content_details][0][additional_price]" placeholder=" السعر الاضافي " onkeypress="isInputDouble(event,this.value)" aria-describedby="basic-addon1"> </div> </div> <div class="col-md-1"> <a href="javascript:void(0)" class="delete btn-danger deBtn" ><i class="fi-rr-trash"></i></a> </div> </div> </div>  </div>'); //add input box
                            }
        });
        $(document).on("click", ".deleteFull", function (e) {
            e.preventDefault();
            $(this).parent().parent().parent().parent().remove();
            saveAfterDeleteSpecification();
            x--;
            var specification = $('.specification');
            var rows = specification.length;
            if (rows == 0) {
                $('#quantity').removeAttr('disabled').css('background-color', 'unset').css('cursor', 'unset');
            }
        });
        $(wrapper2).on("click", ".delete", function (e) {
            e.preventDefault();
            $(this).parent().parent().remove();
            saveAfterDeleteSpecification();
            x--;
        });
        $(document).on("click", ".deleteOption", function (e) {
            e.preventDefault();
            var id = $(this).attr('id');
            $('.deleteOption_' + id).parent().parent().remove();
            x--;
        });
        $(addBrandBtn).click(function (e) {
            e.preventDefault();
            if (x < max_fields) {
                x++;
                $(wrapperBrand).append('<div class="spec-brand-item mt-4"> <div class="row"> <div class="col-md-6"> <div class="form-group"> <select class="form-control"> <option>الماركات</option> </select> </div> </div> <div class="col-md-6"> <div class="form-group"> <input type="text" class="form-control" placeholder="اسم الماركة"> </div> </div> <div class="col-md-12"> <div class="mt-3">  <div class="userImage Custom"> <div class="upload-btn-wrapper"> <p>قم بالرفع هنا</p> <button class="btn"><i class="fi-rr-upload"></i></button> <input accept="image/*" type="file" name="myfile"> </div> </div></div> </div> </div> </div>'); //add input box
            }
        });
        $(document).on("change", '.variants_input', function () {
            var variants_input_class = $(this).data('class');
            var variants_input_value = $(this).val();
            ////console.log(variants_input_value);
            $(document).find('.' + variants_input_class).val(variants_input_value);
        });
    });
        function previewThumbailFromUrl(opts) {
        var dropzoneInst = Dropzone.forElement("#" + opts.selector);
        let mockFile = {
            name: "Loaded File",
            dataURL: opts.imageURL,
            server_name: opts.fileName,
            is_main: opts.isMain
        };
        dropzoneInst.files.push(mockFile);
        dropzoneInst.emit("addedfile", mockFile);
        dropzoneInst.createThumbnailFromUrl(mockFile,
            dropzoneInst.options.thumbnailWidth,
            dropzoneInst.options.thumbnailHeight,
            dropzoneInst.options.thumbnailMethod, true, function (thumbnail) {
                dropzoneInst.emit('thumbnail', mockFile, thumbnail);
            });
        dropzoneInst.emit('complete', mockFile);
    }
</script>
<script>
    $(document).on('change', '#options_unlimited_quantity', function () {
        // console.log('checked');
        var quantity_input = $('#quantity');
        if ($(this).prop('checked') === true) {
            $('#customSwitch11-quantity').prop('checked', $(this).prop('checked'));
            $('#quantity-error').hide();

            // $('#quantity_Bell_sign').css('display' , 'none');

            quantity_input.val(null).css("background-color", '#F5F7F9').prop("disabled", true).removeAttr('required').val(null);
            $('.variants_input').prop("disabled", true).css("background-color", '#F5F7F9').val(null).attr('placeholder', 'غير محدودة');
        } else {
            $('#customSwitch11-quantity').prop('checked', $(this).prop('checked'));
            quantity_input.prop("disabled", false).attr('required', true).css("background-color", 'inherit');
            $('.variants_input').prop("disabled", false).css("background-color", 'inherit').attr('placeholder', 'الكمية');
            // $('#quantity_Bell_sign').css('display' , 'block');
        }
    });
</script>
//
<script>
    //     $(function() {
    //         $("#inputTag").tagsinput('items');
    //     })
    // 
</script>
<script>
    $(function () {

        $(document).on("click", ".search-btn", function () {
            $(this).parent().toggleClass('opend');
            $(this).parent().parent().addClass('selected').siblings().removeClass('selected');
            //   $(document).find(".dz-preview .search-btn.opend").removeClass('opend');
        });
        $(document).mouseup(function (e) {
            var container = $(".search-box", this);
            // If the target of the click isn't the container
            if (!container.is(e.target) && container.has(e.target).length === 0) {
                container.removeClass('opend');

            }
        });
    })
</script>
<script>
    $(document).ready(function () {
        var Characters = $('#label_ar').val().length; // '$' is missing from the selector

        $("#counterLabelAr").html('20 /' + (0 + Characters));


        $("#label_ar").on('keyup', function () {
            var last_Chars = '';
            var Characters = this.value.length; // '$' is missing from the selector
            $("#counterLabelAr").html('20 /' + (0 + Characters));
            //update();

        });


        let lable_en_input = $('#label_en');
        if(lable_en_input.length){
        var Characters2 = lable_en_input.val().length; // '$' is missing from the selector
        }else{
            Characters2 = 0;
        }
            $("#counterLabelEn").html('20 /' + (0 + Characters));
            $("#label_en").on('keyup', function () {
                var last_Chars = '';
                var Characters2 = this.value.length; // '$' is missing from the selector
                $("#counterLabelEn").html('20 /' + (0 + Characters));
                //update();

            });
    });
</script>
<script>
        $(document).on('input', '.create_alt', function () {
            $('#alt_' + $(this).data('name')).val($(this).val());
        });
    </script>
<div id="ProductmoreOptions" class="modal fade me-custom-modal modalFWidth" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
<div class="modal-dialog modal-lg">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title">خيارت إضافية للمنتج</h4>
<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
</div>
<div class="modal-body p-4">
<div class="row m-0" id="form_specifications">
<p class="infoText" style="color: black;"> ملاحظة : السعر الإضافي للخيار هو المبلغ الذي
سيضاف للسعر الأساسي للمنتج عند اختيار العميل لهذا الخيار. (مثال : سعر المنتج 1 ريال والسعر
الإضافي للخيار 10 ريال سيصبح السعر النهائي 11 ريال )</p>
<div class="from-group col-md-12 specification">
<div class="product_specification" data-id="1">
<div class="row spec-item titles mb-2">
<input type="hidden" value="100" name="options[1][content][title_ref]">
<div class="col-md-10">
<div class="input-group">
<div class="input-group-prepend"> <span class="input-group-text" id="basic-addon1">
<i class="fe-type"></i></span></div>
<input type="text" name="options[1][content][title]" class="form-control title" placeholder=" اسم الخيار ( اللون ، الحجم )" aria-describedby="basic-addon1">
</div>
</div>
<div class="col-md-1 col-2">
<a href="javascript:void(0)" class="deleteFull btn-danger deBtn"><i class="fi-rr-trash"></i></a>
</div>
<div class="col-md-1 col-2 p-0">
<button class="add_form_field btn btn-primary waves-effect waves-light">
<span>+ </span></button>
</div>
</div>
<div class="row spec-item title_values mb-2">
<input type="hidden" class="values_ref" value="101" data-counter="1" name="options[1][content][content_details][1][content_ref]">
<div class="col-md-4">
<div class="input-group">
<div class="input-group-prepend"> <span class="input-group-text" id="basic-addon1">
<i class="fe-type"></i></span></div>
<input type="text" name="options[1][content][content_details][1][content_name]" class="form-control values" placeholder=" الخيار " aria-describedby="basic-addon1">
</div>
</div>
<div class="col-md-4">
<div class="input-group">
<div class="input-group-prepend">
<span class="input-group-text" id="basic-addon1">
<i class=" mdi  mdi mdi-credit-card"></i>
</span>
</div>
<input type="text" name="options[1][content][content_details][1][additional_price]" class="form-control prices" placeholder=" السعر الاضافي" aria-describedby="basic-addon1" onkeypress="isInputDouble(event,this.value)">
</div>
</div>
<div class="col-md-1 col-2">
<a href="javascript:void(0)" class="delete btn-danger deBtn"><i class="fi-rr-trash"></i></a>
</div>
</div>
</div>
</div>
</div>
<br>
<div class="additionalOptions">
<div>
<button class="add_form_new_Option btn btn-primary waves-effect waves-light mob-xs-1">
<span>+ </span>
إضافة خيار جديد
</button>
<button class="add_form_field_options btn btn-primary waves-effect waves-light">
<span>+ </span>
توليد مجموعة الخيارات
</button>
</div>
<div class="checkbox checkbox-primary form-check-block">
<input id="options_unlimited_quantity" type="checkbox" class="CheckedItem" style="position: absolute">
<label for="options_unlimited_quantity">
كمية غير محدودة
</label>
</div>
</div>
<div class="form-group col-md-12">
<div class="card no-shadow">
<div class="card-body">
<div class="form_specifications_q"></div>
</div>
</div>
</div>
</div>
<div class="modal-footer">
<button type="button" class=" close_options  btn bg-purple waves-effect waves-light">حفظ</button>
</div>
</div>
</div>
</div>
<div id="productCategory" class="modal fade me-custom-modal modalFWidth" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
<div class="modal-dialog modal-lg">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title"> تصنيفات المنتجات </h4>
<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
</div>
<form id="add_cats" novalidate>
<div class="modal-body p-3">
<div class="row">
<div class="form-group col-md-12">
</div>
</div>
<div class="row">
<div class="from-group col-md-12">
<div class="product_specification_Category">
</div>
<br>
<button class="add_form_field_Category btn btn-primary waves-effect waves-light">
<span>+ </span> إضافة رئيسي
</button>
</div>
</div>
</div>
<div class="modal-footer">
<button id="SaveCats" data-href="file:///C:/Users/user/Desktop/www.mapp.sa/mapp.sa/product.html/addJson" type="button" class="btn bg-purple waves-effect waves-light">حفظ
</button>
</div>
</form>
</div>
</div>
</div>
<div id="productBrand" class="modal fade me-custom-modal modalFWidth " tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-modal="true" data-backdrop="static" data-keyboard="false">
<div class="modal-dialog">
<div class="modal-content">
<form action="https://mapp.sa/admin/tradeMarks/ajaxstore" id="tradMark" method="POST" enctype="multipart/form-data">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title"><span class="fi-rr-plus-small"></span> الماركات </h4>
<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
</div>
<input type="hidden" name="_token" value="hRIZpFLu8UJ0iI4JCBwv765Q7thLZOdZqRieuVbk"> <div class="modal-body p-4">
<div class="row">
<input type="hidden" name="categories[]" id="categories_modal" />
<div class="col-md-12">
<div class="form-group">
<input required value="" id="brand_name_ar" type="text" name="brand_name_ar" class="form-control" placeholder="الإسم">
</div>
</div>
<div class="col-md-12">
<div class="form-group">
<label for="image" class="control-label">الصورة
<span data-tooltip="true" data-placement="top" title="المقاس المفضل للصورة  200px*100px و اقصى حجم مسموح به 0.5 ميجا و الصيخ المدعومة png,jpg,jpeg" class="mdi mdi-alert-circle infoTooltip"></span>
</label>
<input type="hidden" value="" name="imageDone" id="imageDone" required>
<input accept="image/*" id="imageFile" type="file" class="dropify" name="imageFile" />
<div id="imageArea" style="display: none;width: 100%;max-height: 300px;height: 300px">
<img id="imagea" src="https://cdn.mapp.sa/assets/images/defaultLogo.png" alt="Picture">
<button type="button" class="btn btn-primary mt-1" id="cropBrand"> حفظ الصورة
</button>
<button type="button" class="btn btn-danger mt-1" id="undoBrand">رجوع
</button>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="modal-footer">
<button type="button" id="addTradMark" class="btn bg-purple waves-effect waves-light">حفظ
</button>
</div>
</form>
</div>
</div>
</div>
<div id="DigitalModal" class="modal fade me-custom-modal modalFWidth " tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-modal="true">
<div class="modal-dialog">
<div class="modal-content">
<form action="https://mapp.sa/admin/store/updateDigitalRules" id="dgForm" method="POST" enctype="multipart/form-data">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title">شروط إضافة المنتج
الرقمي </h4>
<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
</div>
<input type="hidden" name="_token" value="hRIZpFLu8UJ0iI4JCBwv765Q7thLZOdZqRieuVbk"> <input type="hidden" name="_method" value="put"> <div class="modal-body p-4">
<div class="row">
<div class="col-md-12">
<ul>
<li> تُخلي منصة متاجر مسؤوليتها في حالة وقوع أية ضرر
او تسريب للمنتج الرقمي و الوصول له بطريقة خارج نطاق برمجيات المنصة .
 </li>
<li> يتحمل التاجر أي ضرر يتعرض له عميل المتجر نتيجة
إضافة بيانات وهمية او تزويد العميل بأكواد غير فعّالة و لا تتحمل منصة متاجر
أي مسؤولية أمام عميل المتجر .
</li>
<li> يحق لمنصة متاجر تزويد العميل المتضرر من المتجر
بعد التحقق من ذلك ببيانات التاجر المسجلة على المنصة .
</li>
<li> تُخلى مسؤولية التاجر بمجرد إرسال المنتج
(الاكواد) للعميل خلال 24 ساعة من وقت الإرسال .
</li>
<li> أتعهد وأقسم بالله أنا التاجر أن جميع المعلومات
التي سوف أذكرها في المنتج الرقمي صحيحة و صالحة للاستخدام .
</li>
</ul>
</div>
</div>
<div class="row">
<div class="col-md-12">
<div class="custom-control custom-checkbox">
<input type="checkbox" id="accept_digital_content_rules" name="accept_digital_content_rules" checked class="custom-control-input dgError">
<label class="custom-control-label" for="accept_digital_content_rules">
أوافق على الشروط المدرجة أعلاه
</label>
</div>
</div>
</div>
</div>
</div>
<div class="modal-footer">
<button type="button" id="dgBtn" class="btn bg-purple waves-effect waves-light">حفظ
</button>
</div>
</form>
</div>
</div>
</div>
<input type="hidden" id="IsCropperModalClosed" value="false">
<script>
        $(document).on('click', '.close_modal', function () {
            $('#IsCropperModalClosed').val('true');
            Dropzone.forElement("#myAwesomeDropzone").removeFile(Dropzone.forElement("#myAwesomeDropzone").files[Dropzone.forElement("#myAwesomeDropzone").files.length - 1]);

        });
    </script>
<script>
    $(document).ready(function () {
        $(".alert").not('.discount').not('.alert-msg-custom').filter(function () {
            return $(this).parent('td').length === 0
        }).delay(6000).slideUp(200, function () {
            $(this).alert('close');
        });
    });
</script>
<script>
    try {
        if ($('.sweet-5').length > 0) {
            document.querySelector('.sweet-5').onclick = function () {
                swal({
                        title: "",
                        text: "هذه الخاصية غير متاحه فى باقتك , الرجاء ترقية باقتك لباقة أعلى لإتاحتها",
                        type: "warning",
                        confirmButtonText: 'الإطلاع على الباقات',
                        cancelButtonText: "إلغاء",
                        showCancelButton: true,
                        confirmButtonClass: 'btn-success',
                        closeOnConfirm: false,
                        //closeOnCancel: false
                    },
                    function () {
                        window.location.href = 'subscriptionPlan';
                    });
            };

        }
    } catch (e) {
        //console.log(e);
    }

    $('#SelectAll').on('click', function () {
        if ($(this).is(':checked')) {
            $('.CheckedItem').each(function (i) {
                $(this).prop("checked", true);
            });
        } else {
            $('.CheckedItem').each(function (i) {
                $(this).prop("checked", false);
            });
        }

    });
    $('#SelectAllSh').on('click', function () {
        if ($(this).is(':checked')) {
            $('.CheckedItemSh').each(function (i) {
                $(this).prop("checked", true);
            });
        } else {
            $('.CheckedItemSh').each(function (i) {
                $(this).prop("checked", false);
            });
        }

    });

    $(document).ready(function () {
        $('.DoAction').on('click', function () {
            $.ajaxSetup({
                headers: {
                    'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                }
            });
            var val = [];
            var i = 0;
            $('.CheckedItem:checked').each(function (i) {
                //console.log($(this));
                val[i] = $(this).val();
            });
            if (val.length === 0 && $(this).data('action') != 'confirmBankTransfer') {
                swal({
                    type: 'error',
                    title: 'عذراً، يجب تحديد العناصر المراد اجراء العملية عليها',
                    timer: 4000
                });
                return false;
            }
            // //console.log(val);
            var desc = $(this).data('desc') ? $(this).data('desc') : '';
            var url = $(this).data('url');
            var token = $(this).data('token');

            swal({
                    title: "هل انت متأكد ؟",
                    text: "هل تريد بالتأكيد تنفيذ العملية على العناصر المحددة" + '   ' + desc,
                    type: "warning",
                    cancelButtonColor: '#c54b42',
                    confirmButtonClass: 'btn btn-success',
                    cancelButtonClass: 'btn btn-gray',
                    buttonsStyling: true,
                    confirmButtonText: " نعم ",
                    cancelButtonText: " لا ",
                    showCancelButton: true
                },
                function () {
                    //console.log(val);
                    $.ajax({
                        type: "POST",
                        url: url,
                        data: {id: val},
                        success: function (data) {
                            if (data.status === 0) {
                                swal({
                                    type: 'error',
                                    title: data.message,
                                    timer: 4000
                                });
                            } else {
                                if (url.indexOf('delete') !== -1) {

                                    swal({
                                            title: data.type ? '' : 'أحسنت!',
                                            text: data.message ? data.message : 'تم تنفيذ العملية بنجاح',
                                            type: data.type ? 'warning' : 'success',
                                            timer: 2000,
                                            showConfirmButton: true,
                                            confirmButtonText: "تم",
                                            confirmButtonClass: 'btn btn-success',
                                            buttonsStyling: true,
                                        },
                                        function (result) {
                                            if (result) {
                                                if ($('#total_items_tr').length > 0) {
                                                    var total_items_count = parseInt($('#total_items_tr').text());
                                                } else {
                                                    var total_items_count = 0;
                                                }
                                                for (var r = 0; r < data.ids.length; r++) {
                                                    var ra = $('#item-' + data.ids[r]);
                                                    ra.css('background', '#f00').fadeOut(600, function () {
                                                        $(this).remove();
                                                        var num = 1;
                                                    });
                                                }
                                                var deleted = data.ids.length;
                                                var table = $('.table');
                                                var num = 1;
                                                table.find('.LOOPIDS').each(function () {
                                                    $(this).text(num);
                                                    num = num + 1;
                                                });
                                                if ($('#total_items_tr').length > 0) {
                                                    total_items_count = total_items_count - deleted;
                                                    $('#total_items_tr').text(total_items_count > 0 ? total_items_count : 0);
                                                }
                                            }
                                        }
                                    )
                                } else if (url.indexOf('export') !== -1) {
                                    swal({
                                        title: 'أحسنت!',
                                        text: 'تم تنفيذ العملية بنجاح',
                                        type: 'success',
                                        timer: 2000,
                                        showConfirmButton: true,
                                        confirmButtonText: "تم",
                                        confirmButtonClass: 'btn btn-success',
                                        buttonsStyling: true,
                                    }, function () {
                                        // window.location.href =data;
                                        //     $.download('/path/resource/', 'data', JSON.stringify(data));
                                        window.location.href = UrlForScripts + "/uploads/products/exports/" + data.file;
                                    })
                                } else {
                                    swal({
                                        title: 'أحسنت!',
                                        text: 'تم تنفيذ العملية بنجاح',
                                        type: 'success',
                                        timer: 2000,
                                        showConfirmButton: true,
                                        confirmButtonText: "تم",
                                        confirmButtonClass: 'btn btn-success',
                                        buttonsStyling: true,

                                    }, function () {
                                        location.reload();
                                    });
                                }
                            }
                        },
                        error: function (data) {
                            swal({
                                type: 'error',
                                title: 'عذراً، حدثت خلل أثناء العملية',
                                timer: 4000
                            });
                        }
                    });
                });
        });
        $('.DoActionOptional').on('click', function () {
            $.ajaxSetup({
                headers: {
                    'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                }
            });
            var val = [];
            var i = 0;
            $('.CheckedItem:checked').each(function (i) {
                //console.log($(this));
                val[i] = $(this).val();
            });

            // //console.log(val);
            var desc = $(this).data('desc') ? $(this).data('desc') : '';
            var url = $(this).data('url');
            var token = $(this).data('token');

            swal({
                    title: "هل انت متأكد ؟",
                    text: "هل تريد بالتأكيد تنفيذ العملية على العناصر المحددة" + '   ' + desc,
                    type: "warning",
                    cancelButtonColor: '#c54b42',
                    confirmButtonClass: 'btn btn-success',
                    cancelButtonClass: 'btn btn-gray',
                    buttonsStyling: true,
                    confirmButtonText: " نعم ",
                    cancelButtonText: " لا ",
                    showCancelButton: true
                },
                function () {
                    //console.log(val);
                    $.ajax({
                        type: "POST",
                        url: url,
                        data: {id: val},
                        success: function (data) {
                            if (data.status === 0) {
                                swal({
                                    type: 'error',
                                    title: data.message,
                                    timer: 4000
                                });
                            } else {
                                if (url.indexOf('delete') !== -1) {

                                    swal({
                                            title: data.type ? '' : 'أحسنت!',
                                            text: data.message ? data.message : 'تم تنفيذ العملية بنجاح',
                                            type: data.type ? 'warning' : 'success',
                                            timer: 2000,
                                            showConfirmButton: true,
                                            confirmButtonText: "تم",
                                            confirmButtonClass: 'btn btn-success',
                                            buttonsStyling: true,
                                        },
                                        function (result) {
                                            if (result) {
                                                if ($('#total_items_tr').length > 0) {
                                                    var total_items_count = parseInt($('#total_items_tr').text());
                                                } else {
                                                    var total_items_count = 0;
                                                }
                                                for (var r = 0; r < data.ids.length; r++) {
                                                    var ra = $('#item-' + data.ids[r]);
                                                    ra.css('background', '#f00').fadeOut(600, function () {
                                                        $(this).remove();
                                                        var num = 1;
                                                    });
                                                }
                                                var deleted = data.ids.length;
                                                var table = $('.table');
                                                var num = 1;
                                                table.find('.LOOPIDS').each(function () {
                                                    $(this).text(num);
                                                    num = num + 1;
                                                });
                                                if ($('#total_items_tr').length > 0) {
                                                    total_items_count = total_items_count - deleted;
                                                    $('#total_items_tr').text(total_items_count > 0 ? total_items_count : 0);
                                                }
                                            }
                                        }
                                    )
                                } else if (url.indexOf('export') !== -1) {
                                    swal({
                                        title: 'أحسنت!',
                                        text: 'تم تنفيذ العملية بنجاح',
                                        type: 'success',
                                        timer: 2000,
                                        showConfirmButton: true,
                                        confirmButtonText: "تم",
                                        confirmButtonClass: 'btn btn-success',
                                        buttonsStyling: true,
                                    }, function () {
                                        // window.location.href =data;
                                        //     $.download('/path/resource/', 'data', JSON.stringify(data));
                                        window.location.href = UrlForScripts + "/uploads/products/exports/" + data.file;
                                    })
                                } else {
                                    swal({
                                        title: 'أحسنت!',
                                        text: 'تم تنفيذ العملية بنجاح',
                                        type: 'success',
                                        timer: 2000,
                                        showConfirmButton: true,
                                        confirmButtonText: "تم",
                                        confirmButtonClass: 'btn btn-success',
                                        buttonsStyling: true,

                                    }, function () {
                                        location.reload();
                                    });
                                }
                            }
                        },
                        error: function (data) {
                            swal({
                                type: 'error',
                                title: 'عذراً، حدثت خلل أثناء العملية',
                                timer: 4000
                            });
                        }
                    });
                });
        });

        $(".loader-modal").fadeOut(100);
                // $(".my-alert-success").fadeOut(6000);
        var dropify_image = $('.dropify-message p');
        if ($('#ImportForm').length > 0) {
            dropify_image.html('<span style="font-family:SSTArabic-Roman !important"> ' +
                'اضغط هنا لإختيار الملف' +
                '</span>'
            );
        } else {
            dropify_image.html('<span style="font-family:SSTArabic-Roman !important"> ' +
                'اضغط هنا لإختيار الصورة' +
                '</span>'
            );
        }


        $('.dropify-wrapper, .dropify-wrapper .dropify-clear').css('font-family', 'SST Arabic');
        $('.dropify-wrapper>.dropify-message >.file-icon img').hide();
        $('.dropify-message img').remove();
        //$('.dropify-message .file-icon').css('color', '#7275d2!important;');
        $('.button-menu-mobile').on('click', function () {
            $('.logo-bx').toggle();
            if ($(window).width() <= 768) {
                $('.rightbar-overlay').toggle();
            }

            // $('.rightbar-overlay').toggle();
            // if($('body').hasClass('sidebar-enable')) {
            //     $('.rightbar-overlay').show();
            // } else {
            //     $('.rightbar-overlay').hide();
            // }
        });


    })
    $('#padiOverlay').on('hidden.bs.modal', function () {
        readBreakingNews();
    });
</script>
<script>
    $('#validation-Messages').fadeOut(200);
</script>
<div class='multi-action'>
<button class='action-button'><span class="fe-send"></span></button>
<ul class='actions'>
<li>
<a href="https://forms.gle/aUKw5Vnsx6QWzfpF6" target="_blank">
<i class="fe-alert-circle" style="position: relative;
            top: -2px;"></i> <span class="infoHelp">استبيان (سمعنا رأيك )</span> </a>
</li>
<li>
<a href="https://api.whatsapp.com/send?phone=966564207393" target="_blank"> <i class="mdi mdi-whatsapp" style="    position: relative;
            top: -2px;"></i> <span class="infoHelp">تواصل معنا واتساب</span></a>
</li>
</ul>
</div>
<script>
    $(document).ready(function () {
        // $('.material-button-toggle').on("click", function () {
        //     $(this).toggleClass('open');
        //     $('.option').toggleClass('scale-on');
        // });
        $('.action-button').on('click', function () {
            $(this).toggleClass('active');
        })
    });
</script>
<audio id="PlAyAuDiO" src="https://mapp.sa/notify.mp3" autostart="false"></audio>
<script src="https://js.pusher.com/6.0/pusher.min.js"></script>
<script>
    /*function log(msg) {
        //  $('#logs').prepend('<div>' + msg + '</div>');
        if (console && console.log) {
            console.log(msg);
        }
    }

    Pusher.log = log;*/

    $(function () {
        // Get the Pusher app_key from the config

        var pusher = new Pusher('53a47c96f6392447c750', {
            cluster: 'ap2'
        });
        // subscribe to the channel and bind to the event triggered within trigger.php
        let channel = pusher.subscribe('live' + '_store_channel_' + '193008');
        channel.bind('new_order', function (data) {
            var obj_id = data.obj_id; // Link is optional
            if($('#notification_'+obj_id).length == 0){

                var sound = document.getElementById("PlAyAuDiO");
                sound.play();
                /*  swal({
                      title:data.title,
                      text:data.message,
                      type: "warning",
                      showCancelButton: false,
                      confirmButtonClass: "btn-info",
                      confirmButtonText: "حسناً",
                      closeOnConfirm: true
                  });*/


                // //console.log(data);
                link = data.link; // Link is optional

                duration = 5000; // Default duration is 5 seconds

                var notificationsWrapper = $('.store-notification-list-' + '193008');
                var notificationsToggle = notificationsWrapper.find('a[data-toggle]');
                var notificationsCountElem = notificationsToggle.find('span[data-count]');
                var notificationsCount = parseInt(notificationsWrapper.find('.noti-icon-badge').text());
                var notifications = notificationsWrapper.find('.noti-scroll');

                if (notificationsCount <= 0) {
                    notificationsWrapper.hide();
                }
                var existingNotifications = notifications.html();
                var newNotificationHtml = '<a style="border-bottom: 1px solid #bfbfbf57;" href="' + link + '" id="notification_'+obj_id+'" class="dropdown-item notify-item active">' +
                    '<p class="notify-details">' + data.title +
                    '<small style="float: left;color:#80808052;">' +
                    'الآن' +
                    '</small> </p> <div class="clear"></div> <p class="text-muted mb-0 user-msg">' +
                    '<small>' + data.message + '</small>' +
                    ' </p>' +
                    '</a>';

                notifications.html(newNotificationHtml + existingNotifications);

                notificationsCount += 1;
                notificationsCountElem.attr('data-count', notificationsCount);
                if (notificationsCount > 99) {
                    notificationsWrapper.find('.noti-icon-badge').text('+99').css('display', 'block');
                } else {
                    notificationsWrapper.find('.noti-icon-badge').text(notificationsCount).css('display', 'block');
                }
                notificationsWrapper.show();

                $('#notifi_kt_pulse').css('display','block');
            }


        });

            });


</script>
<script>


    $(document).on('click', '.notifications_count', function () {
        $('#notifications_count_badge').html('<span data-count="0" class="badge badge-danger rounded-circle noti-icon-badge" style="display: none">0</span>');
        $('#notifi_kt_pulse').css('display','none');
        $.ajaxSetup({

            headers: {
                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
            }

        });
        $.ajax({
            type: "POST",
            url: "/admin/setAdminNotificationsCountToZero",
            success: function (data) {
            },
            error: function (xhr, status, error) {
            },
            complete: function () {
            }
        });
    });

        $.ajaxSetup({

        headers: {
            'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
        }

    });
    $.ajax({
        type: "POST",
        url: "/admin/clearWelcomeMessage",
        success: function (data) {
        },
        error: function (xhr, status, error) {
        },
        complete: function () {
        }
    });
    
    

</script>
<script>

    $(function () {
        $('.closeBnr').on("click", function () {
            $(this).parent().slideUp();
        });
        $('.copyStoreDemo').click(function (e) {
            e.preventDefault();
            var copyText = $('.storeDemo').attr('href');

            document.addEventListener('copy', function (e) {
                e.clipboardData.setData('text/plain', copyText);
                e.preventDefault();
            }, true);

            document.execCommand('copy');
//    //console.log('copied text : ', copyText);
//    alert('copied text: ' + copyText);
            $(this).addClass('copied');

            setTimeout(function () {
                $('.copyStoreDemo').removeClass('copied');
            }, 1000);

        });
    });
</script>
<script>
    $(document).ready(function () {
        $('#topBarQ').keyup(function (event) {
            let data = $(this).val();
            if (event.keyCode === 8 || event.keyCode === 46) {
                if (data.length === 0) {
                    $('#adminList').fadeOut();
                    $('#adminList').html('');
                }
            }
            if (data.length <= 2) {
                $('#adminList').fadeOut();
                $('#adminList').html('');
            }
            let admin_search_reference = $('#admin_search_reference').val();

            let adminSearchUrl = "https://mapp.sa/admin/autoCompleteSearch/product";

            if (admin_search_reference === "order") {
                adminSearchUrl = "https://mapp.sa/admin/autoCompleteSearch/order";
            } else if (admin_search_reference === "client") {
                adminSearchUrl = "https://mapp.sa/admin/autoCompleteSearch/client";

            }
            if (data.length > 2) {
                let frescoTop = $('.fresco-div-top');
                frescoTop.html('<div class="container-fluid" id="fresco"><div class="timeline-wrapper customed"> <div class="wrapper-cell"> <div class="image"></div><div class="text"><div class="text-line sized"></div><div class="text-line"></div><div class="text-line"></div></div></div><div class="wrapper-cell"><div class="image"></div><div class="text"><div class="text-line sized"></div><div class="text-line"></div><div class="text-line"></div></div></div></div></div>');
                frescoTop.show();
                var _token = $('input[name="_token"]').val();
                $.ajax({
                    url: adminSearchUrl,
                    method: "POST",
                    data: {data: data, _token: _token},
                    success: function (data) {
                        if (data.count != 0) {
                            if (data.responseItems !== null) {
                                $('#adminList').fadeIn();
                                $('#adminList').html(data.responseItems);
                            } else {
                                $('#adminList').fadeOut();
                                $('#adminList').html('');
                            }
                        } else {
                            $('#adminList').fadeOut();
                            $('#adminList').html('');
                        }
                    },
                    complete: function () {
                        setTimeout(function () {
                            frescoTop.hide();
                            frescoTop.empty();
                        }, 300);
                    }, error: function (data) {
                        alert('Something Error');
                    }
                });
            }
        });

        $(document).on('click', '.autocomplete-result-row', function () {
            $('#topBarQ').val($(this).data('text'));
            $('#adminList').fadeOut();
            $('#topBarQ').closest("form").submit();
        });

    });
</script>
<script>
    $(function () {
        var clipboard = new ClipboardJS('.copyBtnCode');
        clipboard.on('success', function (e) {
            e.clearSelection();
        });
    });

    $(function () {
        $('.copyBtnCode').on('click', function () {
            var divs = '<div class="copiedAlert" style="padding:5px;    position: absolute;    top: -30px;left: -8px;;white-space: nowrap;"><strong style="color: #5051a4;font-size:13px;"><span class="fe-check"></span> تم النسخ</strong></div>'
            $(this).parent().append(divs);
            setTimeout(function () {
                $('.copiedAlert').hide();
            }, 1000);
        });
    })


</script>
<script>
    // Dark Mode
    const darkBtn = document.querySelector("#dark-theme-toggle");
    darkBtn.addEventListener("change", (e) => {
        $.ajaxSetup({
            headers: {
                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
            }
        });
        $.ajax({
            type: "POST",
            url: "https://mapp.sa/admin/enableDarkMode",
            success: function (data) {
                location.reload();
            },
            error: function (xhr, status, error) {
            },
            complete: function () {
            }
        });
    });

</script>
<script>

    let spinnerButtonLinks = document.querySelectorAll('.has-spinner-link');
    for(let i = 0; i < spinnerButtonLinks.length; i++){
        spinnerButtonLinks[i].addEventListener('click', function(event) {
            let href = this.getAttribute("href");
            if (href) {
                event.preventDefault();
                this.classList.add('loading');
                setTimeout(() => {
                    window.location.href = href;
                    this.classList.remove('loading');
                }, 500);
            }
        });
    }


</script>

<script defer src="https://static.cloudflareinsights.com/beacon.min.js/v2b4487d741ca48dcbadcaf954e159fc61680799950996" integrity="sha512-D/jdE0CypeVxFadTejKGTzmwyV10c1pxZk/AqjJuZbaJwGMyNHY3q/mTPWqMUnFACfCTunhZUVcd4cV78dK1pQ==" data-cf-beacon='{"rayId":"7b573138ab1494fa","token":"92b7595127524c71a35d4b9fbeae802d","version":"2023.3.0","si":100}' crossorigin="anonymous"></script>
</body>
</html>
